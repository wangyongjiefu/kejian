
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>day10 · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="day11.html" />
    
    
    <link rel="prev" href="day09.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="day01Vue是什么.html">
            
                <a href="day01Vue是什么.html">
            
                    
                    day01Vue是什么
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="day02Vue常用特性.html">
            
                <a href="day02Vue常用特性.html">
            
                    
                    day02Vue常用特性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="day03组件.html">
            
                <a href="day03组件.html">
            
                    
                    day03组件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="day04a接口调用方式.html">
            
                <a href="day04a接口调用方式.html">
            
                    
                    day04a接口调用方式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="day04todos接口案例.html">
            
                <a href="day04todos接口案例.html">
            
                    
                    day04todos接口案例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="day05_vue路由.html">
            
                <a href="day05_vue路由.html">
            
                    
                    day05_vue路由
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="day06_vue前端工程化.html">
            
                <a href="day06_vue前端工程化.html">
            
                    
                    day06_vue前端工程化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="day07项目前台.html">
            
                <a href="day07项目前台.html">
            
                    
                    day07项目前台
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="day08项目后台.html">
            
                <a href="day08项目后台.html">
            
                    
                    day08项目后台
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="day09.html">
            
                <a href="day09.html">
            
                    
                    day09
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.12" data-path="day10.html">
            
                <a href="day10.html">
            
                    
                    day10
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="day11.html">
            
                <a href="day11.html">
            
                    
                    day11
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="day12.html">
            
                <a href="day12.html">
            
                    
                    day12
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="day13项目优化.html">
            
                <a href="day13项目优化.html">
            
                    
                    day13项目优化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="day14vuex.html">
            
                <a href="day14vuex.html">
            
                    
                    day14vuex
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >day10</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h3 id="&#x4ECA;&#x65E5;&#x76EE;&#x6807;">&#x4ECA;&#x65E5;&#x76EE;&#x6807;</h3>
<p>1.&#x5B8C;&#x6210;&#x5546;&#x54C1;&#x5206;&#x7C7B; </p>
<p>2.&#x5B8C;&#x6210;&#x53C2;&#x6570;&#x7BA1;&#x7406; </p>
<h3 id="1&#x5546;&#x54C1;&#x5206;&#x7C7B;">1.&#x5546;&#x54C1;&#x5206;&#x7C7B;</h3>
<h4 id="a&#x65B0;&#x5EFA;&#x5206;&#x652F;goodscate">A.&#x65B0;&#x5EFA;&#x5206;&#x652F;goods_cate</h4>
<p>&#x65B0;&#x5EFA;&#x5206;&#x652F;goods_cate&#x5E76;&#x63A8;&#x9001;&#x5230;&#x7801;&#x4E91;
git checkout -b goods_cate
git push -u origin goods_cate</p>
<h4 id="b&#x521B;&#x5EFA;&#x5B50;&#x7EA7;&#x8DEF;&#x7531;">B.&#x521B;&#x5EFA;&#x5B50;&#x7EA7;&#x8DEF;&#x7531;</h4>
<p>&#x521B;&#x5EFA;categories&#x5B50;&#x7EA7;&#x8DEF;&#x7531;&#x7EC4;&#x4EF6;&#x5E76;&#x8BBE;&#x7F6E;&#x8DEF;&#x7531;&#x89C4;&#x5219;</p>
<pre><code>import Cate from &apos;./components/goods/Cate.vue&apos;

path: &apos;/home&apos;, component: Home, redirect: &apos;/welcome&apos;, children: [
    { path: &quot;/welcome&quot;, component: Welcome },
    { path: &quot;/users&quot;, component: Users },
    { path: &quot;/rights&quot;, component: Rights },
    { path: &quot;/roles&quot;, component: Roles  },
    { path: &quot;/categories&quot;, component: Cate  }
]
</code></pre><h4 id="c&#x6DFB;&#x52A0;&#x7EC4;&#x4EF6;&#x57FA;&#x672C;&#x5E03;&#x5C40;">C.&#x6DFB;&#x52A0;&#x7EC4;&#x4EF6;&#x57FA;&#x672C;&#x5E03;&#x5C40;</h4>
<p>&#x5728;Cate.vue&#x7EC4;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0;&#x9762;&#x5305;&#x5C51;&#x5BFC;&#x822A;&#x4EE5;&#x53CA;&#x5361;&#x7247;&#x89C6;&#x56FE;&#x4E2D;&#x7684;&#x6DFB;&#x52A0;&#x5206;&#x7C7B;&#x6309;&#x94AE;</p>
<pre><code>&lt;template&gt;
    &lt;div&gt;
        &lt;h3&gt;&#x5546;&#x54C1;&#x5206;&#x7C7B;&lt;/h3&gt;
        &lt;!-- &#x9762;&#x5305;&#x5C51;&#x5BFC;&#x822A; --&gt;
        &lt;el-breadcrumb separator=&quot;/&quot;&gt;
            &lt;el-breadcrumb-item :to=&quot;{ path: &apos;/home&apos; }&quot;&gt;&#x9996;&#x9875;&lt;/el-breadcrumb-item&gt;
            &lt;el-breadcrumb-item&gt;&#x5546;&#x54C1;&#x7BA1;&#x7406;&lt;/el-breadcrumb-item&gt;
            &lt;el-breadcrumb-item&gt;&#x5546;&#x54C1;&#x5206;&#x7C7B;&lt;/el-breadcrumb-item&gt;
        &lt;/el-breadcrumb&gt;
        &lt;!-- &#x5361;&#x7247;&#x89C6;&#x56FE;&#x533A;&#x57DF; --&gt;
        &lt;el-card&gt;
            &lt;!-- &#x6DFB;&#x52A0;&#x5206;&#x7C7B;&#x6309;&#x94AE;&#x533A;&#x57DF; --&gt;
            &lt;el-row&gt;
                &lt;el-col&gt;
                    &lt;el-button type=&quot;primary&quot;&gt;&#x6DFB;&#x52A0;&#x5206;&#x7C7B;&lt;/el-button&gt;
                &lt;/el-col&gt;
            &lt;/el-row&gt;
            &lt;!-- &#x5206;&#x7C7B;&#x8868;&#x683C;  --&gt;

            &lt;!-- &#x5206;&#x9875; --&gt;
        &lt;/el-card&gt;
    &lt;/div&gt;
&lt;/template&gt;
</code></pre><h4 id="d&#x8BF7;&#x6C42;&#x5206;&#x7C7B;&#x6570;&#x636E;">D.&#x8BF7;&#x6C42;&#x5206;&#x7C7B;&#x6570;&#x636E;</h4>
<p>&#x8BF7;&#x6C42;&#x5206;&#x7C7B;&#x6570;&#x636E;&#x5E76;&#x5C06;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x5728;data&#x4E2D;</p>
<pre><code>&lt;script&gt;
export default {
  data() {
    return {
      // &#x5546;&#x54C1;&#x5206;&#x7C7B;&#x6570;&#x636E;&#x5217;&#x8868;
      cateList: [],
      //&#x67E5;&#x8BE2;&#x5206;&#x7C7B;&#x6570;&#x636E;&#x7684;&#x6761;&#x4EF6;
      queryInfo: {
        type: 3,
        pagenum: 1,
        pagesize: 5
      },
      //&#x4FDD;&#x5B58;&#x603B;&#x6570;&#x636E;&#x6761;&#x6570;
      total: 0
    }
  },
  created() {
    this.getCateList()
  },
  methods: {
    async getCateList() {
      //&#x83B7;&#x53D6;&#x5546;&#x54C1;&#x5206;&#x7C7B;&#x6570;&#x636E;
      const { data: res } = await this.$http.get(&apos;categories&apos;, {
        params: queryInfo
      })

      if (res.meta.status !== 200) {
        return this.$message.error(&apos;&#x83B7;&#x53D6;&#x5546;&#x54C1;&#x5217;&#x8868;&#x6570;&#x636E;&#x5931;&#x8D25;&apos;)
      }
      //&#x5C06;&#x6570;&#x636E;&#x5217;&#x8868;&#x8D4B;&#x503C;&#x7ED9;cateList
      this.cateList = res.data.result
      //&#x4FDD;&#x5B58;&#x603B;&#x6570;&#x636E;&#x6761;&#x6570;
      this.total = res.data.total
      //   console.log(res.data);
    }
  }
}
&lt;/script&gt;
</code></pre><h4 id="e&#x4F7F;&#x7528;&#x63D2;&#x4EF6;&#x5C55;&#x793A;&#x6570;&#x636E;">E.&#x4F7F;&#x7528;&#x63D2;&#x4EF6;&#x5C55;&#x793A;&#x6570;&#x636E;</h4>
<p>&#x4F7F;&#x7528;&#x7B2C;&#x4E09;&#x65B9;&#x63D2;&#x4EF6;vue-table-with-tree-grid&#x5C55;&#x793A;&#x5206;&#x7C7B;&#x6570;&#x636E;
    1).&#x5728;vue &#x63A7;&#x5236;&#x53F0;&#x4E2D;&#x70B9;&#x51FB;&#x4F9D;&#x8D56;-&gt;&#x5B89;&#x88C5;&#x4F9D;&#x8D56;-&gt;&#x8FD0;&#x884C;&#x4F9D;&#x8D56;-&gt;&#x8F93;&#x5165;vue-table-with-tree-gird-&gt;&#x70B9;&#x51FB;&#x5B89;&#x88C5;
    2).&#x6253;&#x5F00;main.js&#xFF0C;&#x5BFC;&#x5165;vue-table-with-tree-grid
    import TreeTable from &apos;vue-table-with-tree-grid&apos;
    .....
    Vue.config.productionTip = false</p>
<pre><code>//&#x5168;&#x5C40;&#x6CE8;&#x518C;&#x7EC4;&#x4EF6;
Vue.component(&apos;tree-table&apos;, TreeTable)
3).&#x4F7F;&#x7528;&#x7EC4;&#x4EF6;&#x5C55;&#x793A;&#x5206;&#x7C7B;&#x6570;&#x636E;
</code></pre><pre><code>&lt;!-- &#x5206;&#x7C7B;&#x8868;&#x683C;
:data(&#x8BBE;&#x7F6E;&#x6570;&#x636E;&#x6E90;) :columns(&#x8BBE;&#x7F6E;&#x8868;&#x683C;&#x4E2D;&#x5217;&#x914D;&#x7F6E;&#x4FE1;&#x606F;) :selection-type(&#x662F;&#x5426;&#x6709;&#x590D;&#x9009;&#x6846;)
:expand-type(&#x662F;&#x5426;&#x5C55;&#x5F00;&#x6570;&#x636E;) show-index(&#x662F;&#x5426;&#x8BBE;&#x7F6E;&#x7D22;&#x5F15;&#x5217;) index-text(&#x8BBE;&#x7F6E;&#x7D22;&#x5F15;&#x5217;&#x5934;)
border(&#x662F;&#x5426;&#x6DFB;&#x52A0;&#x7EB5;&#x5411;&#x8FB9;&#x6846;) :show-row-hover(&#x662F;&#x5426;&#x9F20;&#x6807;&#x60AC;&#x505C;&#x9AD8;&#x4EAE;) --&gt;
&lt;tree-table :data=&quot;cateList&quot; :columns=&quot;columns&quot; :selection-type=&quot;false&quot;
:expand-type=&quot;false&quot; show-index index-text=&quot;#&quot; border :show-row-hover=&quot;false&quot;&gt;

&lt;/tree-table&gt;

&#x5728;&#x6570;&#x636E;&#x4E2D;&#x6DFB;&#x52A0;columns:
columns: [
    {label:&apos;&#x5206;&#x7C7B;&#x540D;&#x79F0;&apos;,prop:&apos;cat_name&apos;}
]
</code></pre><h4 id="f&#x81EA;&#x5B9A;&#x4E49;&#x6570;&#x636E;&#x5217;">F.&#x81EA;&#x5B9A;&#x4E49;&#x6570;&#x636E;&#x5217;</h4>
<p>&#x4F7F;&#x7528;vue-table-with-tree-grid&#x5B9A;&#x4E49;&#x6A21;&#x677F;&#x5217;&#x5E76;&#x6DFB;&#x52A0;&#x81EA;&#x5B9A;&#x4E49;&#x5217;</p>
<pre><code>//&#x5148;&#x5728;columns&#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x5217;
columns: [
    {label:&apos;&#x5206;&#x7C7B;&#x540D;&#x79F0;&apos;,prop:&apos;cat_name&apos;},
    //type:&apos;template&apos;(&#x5C06;&#x8BE5;&#x5217;&#x8BBE;&#x7F6E;&#x4E3A;&#x6A21;&#x677F;&#x5217;)&#xFF0C;template:&apos;isok&apos;(&#x8BBE;&#x7F6E;&#x8BE5;&#x5217;&#x6A21;&#x677F;&#x7684;&#x540D;&#x79F0;&#x4E3A;isok)
    {label:&apos;&#x662F;&#x5426;&#x6709;&#x6548;&apos;,prop:&apos;&apos;,type:&apos;template&apos;,template:&apos;isok&apos;},
    {label:&apos;&#x6392;&#x5E8F;&apos;,prop:&apos;&apos;,type:&apos;template&apos;,template:&apos;order&apos;},
    {label:&apos;&#x64CD;&#x4F5C;&apos;,prop:&apos;&apos;,type:&apos;template&apos;,template:&apos;opt&apos;}
]

&lt;!-- &#x662F;&#x5426;&#x6709;&#x6548;&#x533A;&#x57DF;&#xFF0C; &#x8BBE;&#x7F6E;&#x5BF9;&#x5E94;&#x7684;&#x6A21;&#x677F;&#x5217;&#xFF1A; slot=&quot;isok&quot;(&#x4E0E;columns&#x4E2D;&#x8BBE;&#x7F6E;&#x7684;template&#x4E00;&#x81F4;) --&gt;
&lt;template slot=&quot;isok&quot; slot-scope=&quot;scope&quot;&gt;
  &lt;i class=&quot;el-icon-success&quot; v-if=&quot;scope.row.cat_deleted === false&quot; style=&quot;color:lightgreen&quot;&gt;&lt;/i&gt;
  &lt;i class=&quot;el-icon-error&quot; v-else style=&quot;color:red&quot;&gt;&lt;/i&gt;
&lt;/template&gt;
&lt;!-- &#x6392;&#x5E8F; --&gt;
&lt;template slot=&quot;order&quot; slot-scope=&quot;scope&quot;&gt;
  &lt;el-tag size=&quot;mini&quot; v-if=&quot;scope.row.cat_level===0&quot;&gt;&#x4E00;&#x7EA7;&lt;/el-tag&gt;
  &lt;el-tag size=&quot;mini&quot; type=&quot;success&quot; v-else-if=&quot;scope.row.cat_level===1&quot;&gt;&#x4E8C;&#x7EA7;&lt;/el-tag&gt;
  &lt;el-tag size=&quot;mini&quot; type=&quot;warning&quot; v-else&gt;&#x4E09;&#x7EA7;&lt;/el-tag&gt;
&lt;/template&gt;

&lt;!-- &#x64CD;&#x4F5C; --&gt;
&lt;template slot=&quot;opt&quot; slot-scope=&quot;scope&quot;&gt;
  &lt;el-button size=&quot;mini&quot; type=&quot;primary&quot; icon=&quot;el-icon-edit&quot;&gt;&#x7F16;&#x8F91;&lt;/el-button&gt;
  &lt;el-button size=&quot;mini&quot; type=&quot;danger&quot; icon=&quot;el-icon-delete&quot;&gt;&#x5220;&#x9664;&lt;/el-button&gt; 
&lt;/template&gt;
</code></pre><h4 id="g&#x5B8C;&#x6210;&#x5206;&#x9875;&#x529F;&#x80FD;">G.&#x5B8C;&#x6210;&#x5206;&#x9875;&#x529F;&#x80FD;</h4>
<pre><code>&lt;!-- &#x5206;&#x9875; --&gt;
&lt;el-pagination @size-change=&quot;handleSizeChange&quot; @current-change=&quot;handleCurrentChange&quot; :current-page=&quot;queryInfo.pagenum&quot; :page-sizes=&quot;[3, 5, 10, 15]&quot; :page-size=&quot;queryInfo.pagesize&quot; layout=&quot;total, sizes, prev, pager, next, jumper&quot; :total=&quot;total&quot;&gt;
&lt;/el-pagination&gt;

//&#x6DFB;&#x52A0;&#x5BF9;&#x5E94;&#x7684;&#x4E8B;&#x4EF6;&#x51FD;&#x6570;
methods:{
  .......
  handleSizeChange(newSize){
    //&#x5F53;pagesize&#x53D1;&#x751F;&#x6539;&#x53D8;&#x65F6;&#x89E6;&#x53D1;
    this.queryInfo.pagesize = newSize;
    this.getCateList();
  },
  handleCurrentChange(newPage){
    //&#x5F53;pagenum&#x53D1;&#x751F;&#x6539;&#x53D8;&#x65F6;&#x89E6;&#x53D1;
    this.queryInfo.pagenum = newPage;
    this.getCateList();
  }
}
</code></pre><h4 id="h&#x5B8C;&#x6210;&#x6DFB;&#x52A0;&#x5206;&#x7C7B;">H.&#x5B8C;&#x6210;&#x6DFB;&#x52A0;&#x5206;&#x7C7B;</h4>
<pre><code>......
&lt;!-- &#x6DFB;&#x52A0;&#x5206;&#x7C7B;&#x6309;&#x94AE;&#x533A;&#x57DF; --&gt;
&lt;el-row&gt;
  &lt;el-col&gt;
    &lt;el-button type=&quot;primary&quot; @click=&quot;showAddCateDialog&quot;&gt;&#x6DFB;&#x52A0;&#x5206;&#x7C7B;&lt;/el-button&gt;
  &lt;/el-col&gt;
&lt;/el-row&gt;
......
&lt;!-- &#x6DFB;&#x52A0;&#x5206;&#x7C7B;&#x5BF9;&#x8BDD;&#x6846; --&gt;
&lt;el-dialog title=&quot;&#x6DFB;&#x52A0;&#x5206;&#x7C7B;&quot; :visible.sync=&quot;addCateDialogVisible&quot; width=&quot;50%&quot;  @close=&quot;addCateDialogClosed&quot;&gt;
  &lt;!-- &#x6DFB;&#x52A0;&#x5206;&#x7C7B;&#x8868;&#x5355; --&gt;
  &lt;el-form :model=&quot;addCateForm&quot; :rules=&quot;addCateFormRules&quot; ref=&quot;addCateFormRuleForm&quot; label-width=&quot;100px&quot;&gt;
    &lt;el-form-item label=&quot;&#x5206;&#x7C7B;&#x540D;&#x79F0;&quot; prop=&quot;cat_name&quot;&gt;
      &lt;el-input v-model=&quot;addCateForm.cat_name&quot;&gt;&lt;/el-input&gt;
    &lt;/el-form-item&gt;
    &lt;el-form-item label=&quot;&#x7236;&#x7EA7;&#x5206;&#x7C7B;&quot; prop=&quot;cat_pid&quot;&gt;

    &lt;/el-form-item&gt;
  &lt;/el-form&gt;
  &lt;span slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;
    &lt;el-button @click=&quot;addCateDialogVisible = false&quot;&gt;&#x53D6; &#x6D88;&lt;/el-button&gt;
    &lt;el-button type=&quot;primary&quot; @click=&quot;addCate&quot;&gt;&#x786E; &#x5B9A;&lt;/el-button&gt;
  &lt;/span&gt;
&lt;/el-dialog&gt;


//&#x7528;&#x6765;&#x663E;&#x793A;&#x6216;&#x9690;&#x85CF;&#x6DFB;&#x52A0;&#x5206;&#x7C7B;&#x5BF9;&#x8BDD;&#x6846;
addCateDialogVisible: false,
//&#x6DFB;&#x52A0;&#x5206;&#x7C7B;&#x7684;&#x8868;&#x5355;&#x6570;&#x636E;&#x5BF9;&#x8C61;
addCateForm:{
  //&#x5206;&#x7C7B;&#x540D;&#x79F0;
  cat_name:&apos;&apos;,
  //&#x6DFB;&#x52A0;&#x5206;&#x7C7B;&#x7684;&#x7236;&#x7EA7;id&#xFF0C;0&#x5219;&#x8868;&#x793A;&#x7236;&#x7EA7;&#x4E3A;0.&#x6DFB;&#x52A0;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;
  cat_pid:0,
  //&#x6DFB;&#x52A0;&#x5206;&#x7C7B;&#x7684;&#x7B49;&#x7EA7;&#xFF0C;0&#x5219;&#x8868;&#x793A;&#x6DFB;&#x52A0;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;
  cat_level:0
},
//&#x6DFB;&#x52A0;&#x5206;&#x7C7B;&#x6821;&#x9A8C;&#x89C4;&#x5219;
addCateFormRules:{
  //&#x9A8C;&#x8BC1;&#x89C4;&#x5219;
  cat_name:[ {required:true , message:&apos;&#x8BF7;&#x8F93;&#x5165;&#x5206;&#x7C7B;&#x540D;&#x79F0;&apos;,trigger:&apos;blur&apos;} ]
},
//&#x4FDD;&#x5B58;1,2&#x7EA7;&#x7236;&#x7EA7;&#x5206;&#x7C7B;&#x7684;&#x5217;&#x8868;
parentCateList:[]
.......
showAddCateDialog() {
  //&#x8C03;&#x7528;getParentCateList&#x83B7;&#x53D6;&#x5206;&#x7C7B;&#x5217;&#x8868;
  this.getParentCateList()
  //&#x663E;&#x793A;&#x6DFB;&#x52A0;&#x5206;&#x7C7B;&#x5BF9;&#x8BDD;&#x6846;
  this.addCateDialogVisible = true
},
async getParentCateList(){
  //&#x83B7;&#x53D6;&#x7236;&#x7EA7;&#x5206;&#x7C7B;&#x6570;&#x636E;&#x5217;&#x8868;
  const { data: res } = await this.$http.get(&apos;categories&apos;, {
    params: {type:2}
  })

  if (res.meta.status !== 200) {
    return this.$message.error(&apos;&#x83B7;&#x53D6;&#x5546;&#x54C1;&#x5206;&#x7C7B;&#x5217;&#x8868;&#x6570;&#x636E;&#x5931;&#x8D25;&apos;)
  }
  this.parentCateList = res.data
}
</code></pre><p>&#x6DFB;&#x52A0;&#x7EA7;&#x8054;&#x83DC;&#x5355;&#x663E;&#x793A;&#x7236;&#x7EA7;&#x5206;&#x7C7B;
&#x5148;&#x5BFC;&#x5165;Cascader&#x7EC4;&#x4EF6;&#xFF0C;&#x5E76;&#x6CE8;&#x518C;
&#x7136;&#x540E;&#x6DFB;&#x52A0;&#x4F7F;&#x7528;&#x7EA7;&#x8054;&#x83DC;&#x5355;&#x7EC4;&#x4EF6;&#xFF1A;</p>
<pre><code>&lt;el-form-item label=&quot;&#x7236;&#x7EA7;&#x5206;&#x7C7B;&quot; prop=&quot;cat_pid&quot;&gt;
  &lt;!-- expandTrigger=&apos;hover&apos;(&#x9F20;&#x6807;&#x60AC;&#x505C;&#x89E6;&#x53D1;&#x7EA7;&#x8054;) v-model(&#x8BBE;&#x7F6E;&#x7EA7;&#x8054;&#x83DC;&#x5355;&#x7ED1;&#x5B9A;&#x6570;&#x636E;) :options(&#x6307;&#x5B9A;&#x7EA7;&#x8054;&#x83DC;&#x5355;&#x6570;&#x636E;&#x6E90;)  :props(&#x7528;&#x6765;&#x914D;&#x7F6E;&#x6570;&#x636E;&#x663E;&#x793A;&#x7684;&#x89C4;&#x5219;) 
  clearable(&#x63D0;&#x4F9B;&#x201C;X&#x201D;&#x53F7;&#x5B8C;&#x6210;&#x5220;&#x9664;&#x6587;&#x672C;&#x529F;&#x80FD;) change-on-select(&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x9009;&#x4E2D;&#x4EFB;&#x610F;&#x4E00;&#x7EA7;&#x7684;&#x83DC;&#x5355;) --&gt;
  &lt;el-cascader expandTrigger=&apos;hover&apos; v-model=&quot;selectedKeys&quot; :options=&quot;parentCateList&quot; :props=&quot;cascaderProps&quot; @change=&quot;parentCateChange&quot; clearable change-on-select&gt;&lt;/el-cascader&gt;
&lt;/el-form-item&gt;

&#x6DFB;&#x52A0;&#x6570;&#x636E;
//&#x914D;&#x7F6E;&#x7EA7;&#x8054;&#x83DC;&#x5355;&#x4E2D;&#x6570;&#x636E;&#x5982;&#x4F55;&#x5C55;&#x793A;
cascaderProps:{
  value:&apos;cat_id&apos;,
  label:&apos;cat_name&apos;,
  children:&apos;children&apos;,
  expandTrigger:&apos;hover&apos;
},
//&#x7ED1;&#x5B9A;&#x7528;&#x6237;&#x9009;&#x62E9;&#x7684;&#x5206;&#x7C7B;&#x503C;
selectedKeys:[]
.....
methods:{
  .....
  parentCateChange(){
    //&#x7EA7;&#x8054;&#x83DC;&#x5355;&#x4E2D;&#x9009;&#x62E9;&#x9879;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x65F6;&#x89E6;&#x53D1;
    console.log(this.selectedKeys)
    //&#x5982;&#x679C;&#x7528;&#x6237;&#x9009;&#x62E9;&#x4E86;&#x7236;&#x7EA7;&#x5206;&#x7C7B;
    if(this.selectedKeys.length &gt; 0){
      //&#x5219;&#x5C06;&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x6700;&#x540E;&#x4E00;&#x9879;&#x8BBE;&#x7F6E;&#x4E3A;&#x7236;&#x7EA7;&#x5206;&#x7C7B;
      this.addCateForm.cat_pid = this.selectedKeys[this.selectedKeys.length - 1]
      //level&#x4E5F;&#x8981;&#x8DDF;&#x7740;&#x53D1;&#x751F;&#x53D8;&#x5316;
      this.addCateForm.cat_level = this.selectedKeys.length
      return
    }else{
      this.addCateForm.cat_pid = 0
      this.addCateForm.cat_level = 0
      return
    }
  },
  addCateDialogClosed(){
    //&#x5F53;&#x5173;&#x95ED;&#x6DFB;&#x52A0;&#x5206;&#x7C7B;&#x5BF9;&#x8BDD;&#x6846;&#x65F6;&#xFF0C;&#x91CD;&#x7F6E;&#x8868;&#x5355;
    this.$refs.addCateFormRef.resetFields()
    this.selectedKeys = [];
    this.addCateForm.cat_pid = 0
    this.addCateForm.cat_level = 0
  },
  addCate() {
    //&#x70B9;&#x51FB;&#x786E;&#x5B9A;&#xFF0C;&#x5B8C;&#x6210;&#x6DFB;&#x52A0;&#x5206;&#x7C7B;
    console.log(this.addCateForm)
    this.$refs.addCateFormRef.validate(async valid =&gt; {
      if (!valid) return
      //&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x5B8C;&#x6210;&#x6DFB;&#x52A0;&#x5206;&#x7C7B;
      const { data: res } = await this.$http.post(
        &apos;categories&apos;,
        this.addCateForm
      )

      if (res.meta.status !== 201) {
        return this.$message.error(&apos;&#x6DFB;&#x52A0;&#x5206;&#x7C7B;&#x5931;&#x8D25;&apos;)
      }

      this.$message.success(&apos;&#x6DFB;&#x52A0;&#x5206;&#x7C7B;&#x6210;&#x529F;&apos;)
      this.getCateList()
      this.addCateDialogVisible = false
    })
  }
}
</code></pre><h4 id="i&#x63A8;&#x9001;&#x4EE3;&#x7801;">I.&#x63A8;&#x9001;&#x4EE3;&#x7801;</h4>
<p>&#x5236;&#x4F5C;&#x5B8C;&#x6DFB;&#x52A0;&#x5206;&#x7C7B;&#x4E4B;&#x540E;&#xFF0C;&#x5C06;&#x4EE3;&#x7801;&#x63D0;&#x4EA4;&#x5230;&#x4ED3;&#x5E93;&#xFF0C;&#x63A8;&#x9001;&#x5230;&#x7801;&#x4E91;,&#x5C06;goods_cate&#x5206;&#x652F;&#x5408;&#x5E76;&#x5230;master
git add .
git commit -m &apos;&#x5B8C;&#x6210;&#x5546;&#x54C1;&#x5206;&#x7C7B;&apos;
git push
git checkout master
git merge goods_cate</p>
<h3 id="2&#x53C2;&#x6570;&#x7BA1;&#x7406;">2.&#x53C2;&#x6570;&#x7BA1;&#x7406;</h3>
<p>&#x53EA;&#x5141;&#x8BB8;&#x7ED9;&#x4E09;&#x7EA7;&#x5206;&#x7C7B;&#x5185;&#x5BB9;&#x8BBE;&#x7F6E;&#x53C2;&#x6570;&#xFF0C;&#x53C2;&#x6570;&#x5206;&#x4E3A;&#x52A8;&#x6001;&#x53C2;&#x6570;&#x548C;&#x9759;&#x6001;&#x53C2;&#x6570;&#x5C5E;&#x6027;</p>
<h4 id="a&#x6DFB;&#x52A0;&#x5B50;&#x7EA7;&#x7EC4;&#x4EF6;">A.&#x6DFB;&#x52A0;&#x5B50;&#x7EA7;&#x7EC4;&#x4EF6;</h4>
<p>&#x6DFB;&#x52A0;Params.vue&#x5B50;&#x7EC4;&#x4EF6;&#xFF0C;&#x5E76;&#x5728;router.js&#x4E2D;&#x5F15;&#x5165;&#x8BE5;&#x7EC4;&#x4EF6;&#x5E76;&#x8BBE;&#x7F6E;&#x8DEF;&#x7531;&#x89C4;&#x5219;</p>
<pre><code>import Params from &apos;./components/goods/Params.vue&apos;
......
path: &apos;/home&apos;, component: Home, redirect: &apos;/welcome&apos;, children: [
  { path: &quot;/welcome&quot;, component: Welcome },
  { path: &quot;/users&quot;, component: Users },
  { path: &quot;/rights&quot;, component: Rights },
  { path: &quot;/roles&quot;, component: Roles  },
  { path: &quot;/categories&quot;, component: Cate  },
  { path: &quot;/params&quot;, component: Params  }
]
</code></pre><h4 id="b&#x5B8C;&#x6210;&#x7EC4;&#x4EF6;&#x57FA;&#x672C;&#x5E03;&#x5C40;">B.&#x5B8C;&#x6210;&#x7EC4;&#x4EF6;&#x57FA;&#x672C;&#x5E03;&#x5C40;</h4>
<p>&#x5B8C;&#x6210;Params.vue&#x7EC4;&#x4EF6;&#x7684;&#x57FA;&#x672C;&#x5E03;&#x5C40;
&#x5176;&#x4E2D;&#x8B66;&#x544A;&#x63D0;&#x793A;&#x4FE1;&#x606F;&#x4F7F;&#x7528;&#x4E86;el-alert&#xFF0C;&#x5728;element.js&#x5F15;&#x5165;&#x8BE5;&#x7EC4;&#x4EF6;&#x5E76;&#x6CE8;&#x518C;</p>
<pre><code>&lt;template&gt;
    &lt;div&gt;
        &lt;h3&gt;&#x5206;&#x7C7B;&#x53C2;&#x6570;&lt;/h3&gt;
        &lt;!-- &#x9762;&#x5305;&#x5C51;&#x5BFC;&#x822A; --&gt;
        &lt;el-breadcrumb separator=&quot;/&quot;&gt;
            &lt;el-breadcrumb-item :to=&quot;{ path: &apos;/home&apos; }&quot;&gt;&#x9996;&#x9875;&lt;/el-breadcrumb-item&gt;
            &lt;el-breadcrumb-item&gt;&#x5546;&#x54C1;&#x7BA1;&#x7406;&lt;/el-breadcrumb-item&gt;
            &lt;el-breadcrumb-item&gt;&#x5206;&#x7C7B;&#x53C2;&#x6570;&lt;/el-breadcrumb-item&gt;
        &lt;/el-breadcrumb&gt;
        &lt;!-- &#x5361;&#x7247;&#x89C6;&#x56FE;&#x533A;&#x57DF; --&gt;
        &lt;el-card&gt;
            &lt;!-- &#x8B66;&#x544A;&#x533A;&#x57DF; :closable=&quot;false&quot;(&#x662F;&#x5426;&#x5C55;&#x793A;&#x201C;X&#x201D;&#x53F7;) show-icon(&#x663E;&#x793A;&#x56FE;&#x6807;) --&gt;
            &lt;el-alert title=&quot;&#x6CE8;&#x610F;&#xFF1A;&#x53EA;&#x5141;&#x8BB8;&#x4E3A;&#x7B2C;&#x4E09;&#x7EA7;&#x5206;&#x7C7B;&#x8BBE;&#x7F6E;&#x76F8;&#x5173;&#x53C2;&#x6570;&quot; type=&quot;warning&quot; :closable=&quot;false&quot; show-icon&gt;
            &lt;/el-alert&gt;

            &lt;!-- &#x9009;&#x62E9;&#x5546;&#x54C1;&#x5206;&#x7C7B;&#x533A;&#x57DF; --&gt;
            &lt;el-row class=&quot;cat_opt&quot;&gt;
                &lt;el-col&gt;
                    &lt;span&gt;&#x9009;&#x62E9;&#x5546;&#x54C1;&#x5206;&#x7C7B;&#xFF1A;&lt;/span&gt;
                    &lt;!-- &#x9009;&#x62E9;&#x5546;&#x54C1;&#x5206;&#x7C7B;&#x7684;&#x7EA7;&#x8054;&#x9009;&#x62E9;&#x6846; --&gt;
                &lt;/el-col&gt;
                &lt;el-col&gt;&lt;/el-col&gt;
            &lt;/el-row&gt;
        &lt;/el-card&gt;
    &lt;/div&gt;
&lt;/template&gt;
</code></pre><h4 id="c&#x5B8C;&#x6210;&#x7EA7;&#x8054;&#x9009;&#x62E9;&#x6846;">C.&#x5B8C;&#x6210;&#x7EA7;&#x8054;&#x9009;&#x62E9;&#x6846;</h4>
<p>&#x5B8C;&#x6210;&#x5546;&#x54C1;&#x5206;&#x7C7B;&#x7EA7;&#x8054;&#x9009;&#x62E9;&#x6846;</p>
<pre><code>&lt;!-- &#x9009;&#x62E9;&#x5546;&#x54C1;&#x5206;&#x7C7B;&#x533A;&#x57DF; --&gt;
&lt;el-row class=&quot;cat_opt&quot;&gt;
    &lt;el-col&gt;
        &lt;span&gt;&#x9009;&#x62E9;&#x5546;&#x54C1;&#x5206;&#x7C7B;&#xFF1A;&lt;/span&gt;
        &lt;!-- &#x9009;&#x62E9;&#x5546;&#x54C1;&#x5206;&#x7C7B;&#x7684;&#x7EA7;&#x8054;&#x9009;&#x62E9;&#x6846; --&gt;
        &lt;el-cascader expandTrigger=&apos;hover&apos; v-model=&quot;selectedCateKeys&quot; :options=&quot;cateList&quot; :props=&quot;cateProps&quot; @change=&quot;handleChange&quot; clearable&gt;&lt;/el-cascader&gt;
    &lt;/el-col&gt;
    &lt;el-col&gt;&lt;/el-col&gt;
&lt;/el-row&gt;
......
&lt;script&gt;
export default {
  data() {
    return {
        //&#x5206;&#x7C7B;&#x5217;&#x8868;
        cateList:[],
        //&#x7528;&#x6237;&#x5728;&#x7EA7;&#x8054;&#x4E0B;&#x62C9;&#x83DC;&#x5355;&#x4E2D;&#x9009;&#x4E2D;&#x7684;&#x5206;&#x7C7B;id
        selectedCateKeys:[],
        //&#x914D;&#x7F6E;&#x7EA7;&#x8054;&#x83DC;&#x5355;&#x4E2D;&#x6570;&#x636E;&#x5982;&#x4F55;&#x5C55;&#x793A;
        cateProps: {
            value: &apos;cat_id&apos;,
            label: &apos;cat_name&apos;,
            children: &apos;children&apos;
        }
    }
  },
  created() {
      this.getCateList()
  },
  methods: {
      async getCateList(){
        //&#x83B7;&#x53D6;&#x6240;&#x6709;&#x7684;&#x5546;&#x54C1;&#x5206;&#x7C7B;&#x5217;&#x8868;
        const { data: res } = await this.$http.get(&apos;categories&apos;)

        if (res.meta.status !== 200) {
            return this.$message.error(&apos;&#x83B7;&#x53D6;&#x5206;&#x7C7B;&#x6570;&#x636E;&#x5931;&#x8D25;&apos;)
        }
        //&#x5C06;&#x6570;&#x636E;&#x5217;&#x8868;&#x8D4B;&#x503C;&#x7ED9;cateList
        this.cateList = res.data
        // //&#x4FDD;&#x5B58;&#x603B;&#x6570;&#x636E;&#x6761;&#x6570;
        // this.total = res.data.total
        //   console.log(res.data);
      },
      handleChange(){
        //&#x5F53;&#x7528;&#x6237;&#x5728;&#x7EA7;&#x8054;&#x83DC;&#x5355;&#x4E2D;&#x9009;&#x62E9;&#x5185;&#x5BB9;&#x6539;&#x53D8;&#x65F6;&#x89E6;&#x53D1;
        console.log(this.selectedCateKeys);
      }
  }
}
&lt;/script&gt;
</code></pre><h4 id="d&#x5C55;&#x793A;&#x53C2;&#x6570;">D.&#x5C55;&#x793A;&#x53C2;&#x6570;</h4>
<p>&#x5C55;&#x793A;&#x52A8;&#x6001;&#x53C2;&#x6570;&#x6570;&#x636E;&#x4EE5;&#x53CA;&#x9759;&#x6001;&#x5C5E;&#x6027;&#x6570;&#x636E;</p>
<pre><code>&lt;!-- tab&#x9875;&#x7B7E;&#x533A;&#x57DF; --&gt;
&lt;el-tabs v-model=&quot;activeName&quot; @tab-click=&quot;handleTabClick&quot;&gt;
  &lt;!-- &#x6DFB;&#x52A0;&#x52A8;&#x6001;&#x53C2;&#x6570;&#x7684;&#x9762;&#x677F; &#x5C06;&#x6807;&#x7B7E;&#x9875;&#x6539;&#x4E3A;many --&gt;
  &lt;el-tab-pane label=&quot;&#x52A8;&#x6001;&#x53C2;&#x6570;&quot; name=&quot;many&quot;&gt;
    &lt;el-button size=&quot;mini&quot; type=&quot;primary&quot; :disabled=&quot;isButtonDisabled&quot;&gt;&#x6DFB;&#x52A0;&#x53C2;&#x6570;&lt;/el-button&gt;
    &lt;!-- &#x52A8;&#x6001;&#x53C2;&#x6570;&#x8868;&#x683C; --&gt;
    &lt;el-table :data=&quot;manyTableData&quot; border stripe&gt;
      &lt;!-- &#x5C55;&#x5F00;&#x884C; --&gt;
      &lt;el-table-column type=&quot;expand&quot;&gt;&lt;/el-table-column&gt;
      &lt;!-- &#x7D22;&#x5F15;&#x5217; --&gt;
      &lt;el-table-column type=&quot;index&quot;&gt;&lt;/el-table-column&gt;
      &lt;el-table-column label=&quot;&#x53C2;&#x6570;&#x540D;&#x79F0;&quot; prop=&quot;attr_name&quot;&gt;&lt;/el-table-column&gt;
      &lt;el-table-column label=&quot;&#x64CD;&#x4F5C;&quot;&gt;
        &lt;template slot-scope=&quot;scope&quot;&gt;
          &lt;el-button size=&quot;mini&quot; type=&quot;primary&quot; icon=&quot;el-icon-edit&quot;&gt;&#x7F16;&#x8F91;&lt;/el-button&gt;
          &lt;el-button size=&quot;mini&quot; type=&quot;danger&quot; icon=&quot;el-icon-delete&quot;&gt;&#x5220;&#x9664;&lt;/el-button&gt;
        &lt;/template&gt;
      &lt;/el-table-column&gt;
    &lt;/el-table&gt;
  &lt;/el-tab-pane&gt;
  &lt;!-- &#x6DFB;&#x52A0;&#x9759;&#x6001;&#x5C5E;&#x6027;&#x7684;&#x9762;&#x677F; &#x5C06;&#x6807;&#x7B7E;&#x9875;&#x6539;&#x4E3A;only --&gt;
  &lt;el-tab-pane label=&quot;&#x9759;&#x6001;&#x5C5E;&#x6027;&quot; name=&quot;only&quot;&gt;
    &lt;el-button size=&quot;mini&quot; type=&quot;primary&quot; :disabled=&quot;isButtonDisabled&quot;&gt;&#x6DFB;&#x52A0;&#x5C5E;&#x6027;&lt;/el-button&gt;
    &lt;!-- &#x9759;&#x6001;&#x5C5E;&#x6027;&#x8868;&#x683C; --&gt;
    &lt;el-table :data=&quot;onlyTableData&quot; border stripe&gt;
      &lt;!-- &#x5C55;&#x5F00;&#x884C; --&gt;
      &lt;el-table-column type=&quot;expand&quot;&gt;&lt;/el-table-column&gt;
      &lt;!-- &#x7D22;&#x5F15;&#x5217; --&gt;
      &lt;el-table-column type=&quot;index&quot;&gt;&lt;/el-table-column&gt;
      &lt;el-table-column label=&quot;&#x5C5E;&#x6027;&#x540D;&#x79F0;&quot; prop=&quot;attr_name&quot;&gt;&lt;/el-table-column&gt;
      &lt;el-table-column label=&quot;&#x64CD;&#x4F5C;&quot;&gt;
        &lt;template slot-scope=&quot;scope&quot;&gt;
          &lt;el-button size=&quot;mini&quot; type=&quot;primary&quot; icon=&quot;el-icon-edit&quot;&gt;&#x7F16;&#x8F91;&lt;/el-button&gt;
          &lt;el-button size=&quot;mini&quot; type=&quot;danger&quot; icon=&quot;el-icon-delete&quot;&gt;&#x5220;&#x9664;&lt;/el-button&gt;
        &lt;/template&gt;
      &lt;/el-table-column&gt;
    &lt;/el-table&gt;
  &lt;/el-tab-pane&gt;

&lt;/el-tabs&gt;


&lt;script&gt;
export default {
  data() {
    return {
      ......
      //tab&#x9875;&#x7B7E;&#x6FC0;&#x6D3B;&#x663E;&#x793A;&#x7684;&#x9875;&#x7B7E;&#x9879;
      activeName: &apos;many&apos;,
      //&#x7528;&#x6765;&#x4FDD;&#x5B58;&#x52A8;&#x6001;&#x53C2;&#x6570;&#x6570;&#x636E;
      manyTableData: [],
      //&#x7528;&#x6765;&#x4FDD;&#x5B58;&#x9759;&#x6001;&#x5C5E;&#x6027;&#x6570;&#x636E;
      onlyTableData: []  
    }
  methods: {
    .......
    async handleChange() {
      //&#x5F53;&#x7528;&#x6237;&#x5728;&#x7EA7;&#x8054;&#x83DC;&#x5355;&#x4E2D;&#x9009;&#x62E9;&#x5185;&#x5BB9;&#x6539;&#x53D8;&#x65F6;&#x89E6;&#x53D1;
      console.log(this.selectedCateKeys)
      //&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#xFF0C;&#x6839;&#x636E;&#x7528;&#x6237;&#x9009;&#x62E9;&#x7684;&#x4E09;&#x7EA7;&#x5206;&#x7C7B;&#x548C;&#x9762;&#x677F;&#x83B7;&#x53D6;&#x53C2;&#x6570;&#x6570;&#x636E;
      const { data: res } = await this.$http.get(
        `categories/${this.cateId}/attributes`,
        { params: { sel: this.activeName } }
      )
      if (res.meta.status !== 200) {
        return this.$message.error(&apos;&#x83B7;&#x53D6;&#x53C2;&#x6570;&#x5217;&#x8868;&#x6570;&#x636E;&#x5931;&#x8D25;&apos;)
      }

      console.log(res.data)
      if (this.activeName === &apos;many&apos;) {
        //&#x83B7;&#x53D6;&#x7684;&#x662F;&#x52A8;&#x6001;&#x53C2;&#x6570;
        this.manyTableData = res.data
      } else if (this.activeName === &apos;only&apos;) {
        //&#x83B7;&#x53D6;&#x7684;&#x662F;&#x9759;&#x6001;&#x5C5E;&#x6027;
        this.onlyTableData = res.data
      }
    },
    handleTabClick() {
      console.log(this.activeName)
      this.handleChange()
    }
  },
  computed: {
    //&#x6DFB;&#x52A0;&#x8BA1;&#x7B97;&#x5C5E;&#x6027;&#x7528;&#x6765;&#x83B7;&#x53D6;&#x6309;&#x94AE;&#x7981;&#x7528;&#x4E0E;&#x5426;
    isButtonDisabled() {
      return this.selectedCateKeys.length !== 3
    },
    //&#x83B7;&#x53D6;&#x9009;&#x4E2D;&#x7684;&#x4E09;&#x7EA7;&#x5206;&#x7C7B;id
    cateId() {
      if (this.selectedCateKeys.length === 3) {
        return this.selectedCateKeys[this.selectedCateKeys.length - 1]
      }
      return null
    }
  }
</code></pre><h4 id="e&#x6DFB;&#x52A0;&#x53C2;&#x6570;">E.&#x6DFB;&#x52A0;&#x53C2;&#x6570;</h4>
<p>&#x5B8C;&#x6210;&#x6DFB;&#x52A0;&#x53C2;&#x6570;&#x6216;&#x5C5E;&#x6027;</p>
<pre><code>&lt;!-- &#x6DFB;&#x52A0;&#x53C2;&#x6570;&#x6216;&#x5C5E;&#x6027;&#x5BF9;&#x8BDD;&#x6846; --&gt;
&lt;el-dialog :title=&quot;&apos;&#x6DFB;&#x52A0;&apos;+titleText&quot; :visible.sync=&quot;addDialogVisible&quot; width=&quot;50%&quot; @close=&quot;addDialogClosed&quot;&gt;
  &lt;!-- &#x6DFB;&#x52A0;&#x8868;&#x5355; --&gt;
  &lt;el-form :model=&quot;addForm&quot; :rules=&quot;addFormRules&quot; ref=&quot;addFormRef&quot; label-width=&quot;100px&quot;&gt;
    &lt;el-form-item :label=&quot;titleText&quot; prop=&quot;attr_name&quot;&gt;
      &lt;el-input v-model=&quot;addForm.attr_name&quot;&gt;&lt;/el-input&gt;
    &lt;/el-form-item&gt;
  &lt;/el-form&gt;
  &lt;span slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;
    &lt;el-button @click=&quot;addDialogVisible = false&quot;&gt;&#x53D6; &#x6D88;&lt;/el-button&gt;
    &lt;el-button type=&quot;primary&quot; @click=&quot;addParams&quot;&gt;&#x786E; &#x5B9A;&lt;/el-button&gt;
  &lt;/span&gt;
&lt;/el-dialog&gt;

export default {
  data() {
    return {
      .......
      //&#x63A7;&#x5236;&#x6DFB;&#x52A0;&#x53C2;&#x6570;.&#x5C5E;&#x6027;&#x5BF9;&#x8BDD;&#x6846;&#x7684;&#x663E;&#x793A;&#x6216;&#x9690;&#x85CF;
      addDialogVisible: false,
      //&#x6DFB;&#x52A0;&#x53C2;&#x6570;&#x7684;&#x8868;&#x5355;&#x6570;&#x636E;&#x5BF9;&#x8C61;
      addForm: {
        attr_name: &apos;&apos;
      },
      //&#x6DFB;&#x52A0;&#x8868;&#x5355;&#x9A8C;&#x8BC1;&#x89C4;&#x5219;
      addFormRules: {
        attr_name: [{ required: true, message: &apos;&#x8BF7;&#x8F93;&#x5165;&#x540D;&#x79F0;&apos;, trigger: &apos;blur&apos; }]
      }
    }
  },methods: {
    .......
    addParams() {
      //&#x5F53;&#x7528;&#x6237;&#x70B9;&#x51FB;&#x5BF9;&#x8BDD;&#x6846;&#x4E2D;&#x7684;&#x786E;&#x5B9A;&#x65F6;&#xFF0C;&#x6821;&#x9A8C;&#x8868;&#x5355;
      this.$refs.addFormRef.validate(async valid =&gt; {
        //&#x6821;&#x9A8C;&#x4E0D;&#x901A;&#x8FC7;&#xFF0C;return
        if (!valid) return
        //&#x6821;&#x9A8C;&#x901A;&#x8FC7;&#xFF0C;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x5B8C;&#x6210;&#x6DFB;&#x52A0;&#x53C2;&#x6570;&#x6216;&#x8005;&#x5C5E;&#x6027;
        const { data: res } = this.$http.post(`categories/${this.cateId}/attributes`,
          { 
            attr_name: this.addForm.attr_name, 
            attr_sel: this.activeName,
            attr_vals: &quot;a,b,c&quot; 
          }
        )

        console.log(res)
        if (res.meta.status !== 201) {
          return this.$message.error(&apos;&#x6DFB;&#x52A0;&apos; + this.titleText + &apos;&#x6570;&#x636E;&#x5931;&#x8D25;&apos;)
        }
        this.$message.success(&apos;&#x6DFB;&#x52A0;&apos; + this.titleText + &apos;&#x6570;&#x636E;&#x6210;&#x529F;&apos;)
        this.addDialogVisible = false
        this.getCateList()
      })
    }
  }
</code></pre><h4 id="f&#x7F16;&#x8F91;&#x53C2;&#x6570;">F.&#x7F16;&#x8F91;&#x53C2;&#x6570;</h4>
<p>&#x5B8C;&#x6210;&#x7F16;&#x8F91;&#x53C2;&#x6570;&#x6216;&#x5C5E;&#x6027;</p>
<pre><code>&lt;!-- &#x4FEE;&#x6539;&#x53C2;&#x6570;&#x6216;&#x5C5E;&#x6027;&#x5BF9;&#x8BDD;&#x6846; --&gt;
&lt;el-dialog :title=&quot;&apos;&#x4FEE;&#x6539;&apos;+titleText&quot; :visible.sync=&quot;editDialogVisible&quot; width=&quot;50%&quot; @close=&quot;editDialogClosed&quot;&gt;
  &lt;!-- &#x6DFB;&#x52A0;&#x8868;&#x5355; --&gt;
  &lt;el-form :model=&quot;editForm&quot; :rules=&quot;editFormRules&quot; ref=&quot;editFormRef&quot; label-width=&quot;100px&quot;&gt;
    &lt;el-form-item :label=&quot;titleText&quot; prop=&quot;attr_name&quot;&gt;
      &lt;el-input v-model=&quot;editForm.attr_name&quot;&gt;&lt;/el-input&gt;
    &lt;/el-form-item&gt;
  &lt;/el-form&gt;
  &lt;span slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;
    &lt;el-button @click=&quot;editDialogVisible = false&quot;&gt;&#x53D6; &#x6D88;&lt;/el-button&gt;
    &lt;el-button type=&quot;primary&quot; @click=&quot;editParams&quot;&gt;&#x786E; &#x5B9A;&lt;/el-button&gt;
  &lt;/span&gt;
&lt;/el-dialog&gt;

export default {
  data() {
    return {
      .......
      //&#x63A7;&#x5236;&#x4FEE;&#x6539;&#x53C2;&#x6570;.&#x5C5E;&#x6027;&#x5BF9;&#x8BDD;&#x6846;&#x7684;&#x663E;&#x793A;&#x6216;&#x9690;&#x85CF;
      editDialogVisible:false,
      //&#x4FEE;&#x6539;&#x53C2;&#x6570;.&#x5C5E;&#x6027;&#x5BF9;&#x8BDD;&#x6846;&#x4E2D;&#x7684;&#x8868;&#x5355;
      editForm:{
        attr_name:&apos;&apos;
      },
      //&#x4FEE;&#x6539;&#x8868;&#x5355;&#x7684;&#x9A8C;&#x8BC1;&#x89C4;&#x5219;
      editFormRules:{
        attr_name:[
          { required: true, message: &apos;&#x8BF7;&#x8F93;&#x5165;&#x540D;&#x79F0;&apos;, trigger: &apos;blur&apos; }
        ]
      }
    }
  },methods: {
    .......
    async showEditDialog(attr_id){
      //&#x53D1;&#x8D77;&#x8BF7;&#x6C42;&#x83B7;&#x53D6;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x7684;&#x90A3;&#x4E2A;&#x53C2;&#x6570;&#x6570;&#x636E;
      const {data:res} = await this.$http.get(`categories/${this.cateId}/attributes/${attr_id}`,
      {params:{ attr_sel:this.activeName }})
      if (res.meta.status !== 200) {
        return this.$message.error(&apos;&#x83B7;&#x53D6;&#x53C2;&#x6570;&#x6570;&#x636E;&#x5931;&#x8D25;&apos;)
      }
      this.editForm = res.data;
      //&#x663E;&#x793A;&#x4FEE;&#x6539;&#x53C2;&#x6570;.&#x5C5E;&#x6027;&#x5BF9;&#x8BDD;&#x6846;
      this.editDialogVisible = true;
    },
    editDialogClosed(){
      //&#x5F53;&#x5173;&#x95ED;&#x4FEE;&#x6539;&#x53C2;&#x6570;.&#x5C5E;&#x6027;&#x5BF9;&#x8BDD;&#x6846;&#x65F6;
      this.$refs.editFormRef.resetFields()
    },
    editParams(){
      //&#x9A8C;&#x8BC1;&#x8868;&#x5355;
      this.$refs.editFormRef.validate(async valid =&gt; {
        if(!valid) return;

        //&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x5B8C;&#x6210;&#x4FEE;&#x6539;
        const {data:res} = await this.$http.put(`categories/${this.cateId}/attributes/${this.editForm.attr_id}`,
        {attr_name:this.editForm.attr_name,attr_sel:this.activeName})

        if (res.meta.status !== 200) {
          return this.$message.error(&apos;&#x83B7;&#x53D6;&#x53C2;&#x6570;&#x6570;&#x636E;&#x5931;&#x8D25;&apos;)
        }
        this.$message.success(&apos;&#x4FEE;&#x6539;&apos; + this.titleText + &apos;&#x6570;&#x636E;&#x6210;&#x529F;&apos;)
        this.editDialogVisible = false
        this.handleChange();
      })
    }
  }
</code></pre><h4 id="g&#x5220;&#x9664;&#x53C2;&#x6570;">G.&#x5220;&#x9664;&#x53C2;&#x6570;</h4>
<p>&#x5220;&#x9664;&#x53C2;&#x6570;&#x6216;&#x5C5E;&#x6027;</p>
<pre><code>&#x7ED9;&#x4E24;&#x4E2A;&#x5220;&#x9664;&#x6309;&#x94AE;&#x6DFB;&#x52A0;&#x4E8B;&#x4EF6;
&lt;el-button size=&quot;mini&quot; type=&quot;danger&quot; icon=&quot;el-icon-delete&quot; @click=&quot;removeParams(scope.row.attr_id)&quot;&gt;&#x5220;&#x9664;&lt;/el-button&gt;
&lt;el-button size=&quot;mini&quot; type=&quot;danger&quot; icon=&quot;el-icon-delete&quot; @click=&quot;removeParams(scope.row.attr_id)&quot;&gt;&#x5220;&#x9664;&lt;/el-button&gt;

&#x6DFB;&#x52A0;&#x5BF9;&#x5E94;&#x7684;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;
async removeParams(attr_id){
  //&#x6839;&#x636E;id&#x5220;&#x9664;&#x5BF9;&#x5E94;&#x7684;&#x53C2;&#x6570;&#x6216;&#x5C5E;&#x6027;
  //&#x5F39;&#x7A97;&#x63D0;&#x793A;&#x7528;&#x6237;&#x662F;&#x5426;&#x8981;&#x5220;&#x9664;
  const confirmResult = await this.$confirm(
    &apos;&#x8BF7;&#x95EE;&#x662F;&#x5426;&#x8981;&#x5220;&#x9664;&#x8BE5;&apos;+this.titleText,
    &apos;&#x5220;&#x9664;&#x63D0;&#x793A;&apos;,
    {
      confirmButtonText: &apos;&#x786E;&#x8BA4;&#x5220;&#x9664;&apos;,
      cancelButtonText: &apos;&#x53D6;&#x6D88;&apos;,
      type: &apos;warning&apos;
    }
  ).catch(err =&gt; err)
  //&#x5982;&#x679C;&#x7528;&#x6237;&#x70B9;&#x51FB;&#x786E;&#x8BA4;&#xFF0C;&#x5219;confirmResult &#x4E3A;&apos;confirm&apos;
  //&#x5982;&#x679C;&#x7528;&#x6237;&#x70B9;&#x51FB;&#x53D6;&#x6D88;, &#x5219;confirmResult&#x83B7;&#x53D6;&#x7684;&#x5C31;&#x662F;catch&#x7684;&#x9519;&#x8BEF;&#x6D88;&#x606F;&apos;cancel&apos;
  if (confirmResult != &apos;confirm&apos;) {
    return this.$message.info(&apos;&#x5DF2;&#x7ECF;&#x53D6;&#x6D88;&#x5220;&#x9664;&apos;)
  }

  //&#x6CA1;&#x6709;&#x53D6;&#x6D88;&#x5C31;&#x662F;&#x8981;&#x5220;&#x9664;&#xFF0C;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x5B8C;&#x6210;&#x5220;&#x9664;
  const {data:res} = await this.$http.delete(`categories/${this.cateId}/attributes/${attr_id}`)

  if (res.meta.status !== 200) {
    return this.$message.error(&apos;&#x5220;&#x9664;&#x53C2;&#x6570;&#x6570;&#x636E;&#x5931;&#x8D25;&apos;)
  }
  this.$message.success(&apos;&#x5220;&#x9664;&apos; + this.titleText + &apos;&#x6570;&#x636E;&#x6210;&#x529F;&apos;)
  this.handleChange()
}
</code></pre>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="day09.html" class="navigation navigation-prev " aria-label="Previous page: day09">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="day11.html" class="navigation navigation-next " aria-label="Next page: day11">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"day10","level":"1.12","depth":1,"next":{"title":"day11","level":"1.13","depth":1,"path":"day11.md","ref":"day11.md","articles":[]},"previous":{"title":"day09","level":"1.11","depth":1,"path":"day09.md","ref":"day09.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"day10.md","mtime":"2019-09-11T00:12:32.079Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2022-05-28T05:39:51.519Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

