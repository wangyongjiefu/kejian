<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>幻灯片 1</title><meta name="author" content="admin"/><style type="text/css"> * {margin:0; padding:0; text-indent:0; }
 .s1 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; vertical-align: 65pt; }
 .s2 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; vertical-align: 19pt; }
 .s3 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 h1 { color: #252525; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 36pt; }
 .s4 { color: black; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; vertical-align: 33pt; }
 .s5 { color: black; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s6 { color: #F00; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 36pt; }
 .s7 { color: #F00; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 14pt; }
 .s8 { color: #252525; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 14pt; }
 .h2 { color: #585858; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 24pt; }
 h3 { color: #252525; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 18pt; }
 .s9 { color: #252525; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt; }
 h4 { color: #404040; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 14pt; }
 p { color: black; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; margin:0pt; }
 .s10 { color: #F00; font-family:"Courier New", monospace; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 .s11 { color: #F00; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s12 { color: #F00; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt; }
 .a, a { color: #00F; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 10.5pt; }
 .s14 { color: black; font-family:"Courier New", monospace; font-style: italic; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s15 { color: black; font-family:微软雅黑, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 10.5pt; }
 .s16 { color: black; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s17 { color: #00AFEF; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s18 { color: #252525; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s19 { color: #252525; font-family:"Courier New", monospace; font-style: italic; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s20 { color: #252525; font-family:微软雅黑, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 10.5pt; }
 .s21 { color: #252525; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s22 { color: #F00; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10.5pt; }
 .s23 { color: #252525; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt; }
 li {display: block; }
 #l1 {padding-left: 0pt; }
 #l1> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; }
 li {display: block; }
 #l2 {padding-left: 0pt;counter-reset: d1 1; }
 #l2> li>*:first-child:before {counter-increment: d1; content: counter(d1, decimal)" "; color: black; font-style: normal; font-weight: normal; text-decoration: none; }
 #l2> li:first-child>*:first-child:before {counter-increment: d1 0;  }
 #l3 {padding-left: 0pt;counter-reset: d2 1; }
 #l3> li>*:first-child:before {counter-increment: d2; content: counter(d1, decimal)"."counter(d2, decimal)" "; color: #252525; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 18pt; }
 #l3> li:first-child>*:first-child:before {counter-increment: d2 0;  }
 #l4 {padding-left: 0pt;counter-reset: d3 1; }
 #l4> li>*:first-child:before {counter-increment: d3; content: counter(d3, decimal)". "; color: #252525; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt; }
 #l4> li:first-child>*:first-child:before {counter-increment: d3 0;  }
 li {display: block; }
 #l5 {padding-left: 0pt;counter-reset: e1 1; }
 #l5> li>*:first-child:before {counter-increment: e1; content: counter(e1, decimal)" "; color: black; font-style: normal; font-weight: normal; text-decoration: none; }
 #l5> li:first-child>*:first-child:before {counter-increment: e1 0;  }
 #l6 {padding-left: 0pt;counter-reset: e2 1; }
 #l6> li>*:first-child:before {counter-increment: e2; content: counter(e1, decimal)"."counter(e2, decimal)" "; color: #252525; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 18pt; }
 #l6> li:first-child>*:first-child:before {counter-increment: e2 0;  }
 #l7 {padding-left: 0pt;counter-reset: e3 1; }
 #l7> li>*:first-child:before {counter-increment: e3; content: counter(e3, decimal)". "; color: #404040; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 14pt; }
 #l7> li:first-child>*:first-child:before {counter-increment: e3 0;  }
 #l8 {padding-left: 0pt;counter-reset: e4 1; }
 #l8> li>*:first-child:before {counter-increment: e4; content: counter(e3, decimal)"."counter(e4, decimal)" "; color: #252525; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 18pt; }
 #l8> li:first-child>*:first-child:before {counter-increment: e4 0;  }
 li {display: block; }
 #l9 {padding-left: 0pt;counter-reset: f1 6; }
 #l9> li>*:first-child:before {counter-increment: f1; content: counter(f1, decimal)". "; color: #404040; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 14pt; }
 #l9> li:first-child>*:first-child:before {counter-increment: f1 0;  }
 li {display: block; }
 #l10 {padding-left: 0pt;counter-reset: g1 8; }
 #l10> li>*:first-child:before {counter-increment: g1; content: counter(g1, decimal)". "; color: #404040; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 14pt; }
 #l10> li:first-child>*:first-child:before {counter-increment: g1 0;  }
 li {display: block; }
 #l11 {padding-left: 0pt; }
 #l11> li>*:first-child:before {content: " "; color: black; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; }
 li {display: block; }
 #l12 {padding-left: 0pt;counter-reset: i1 2; }
 #l12> li>*:first-child:before {counter-increment: i1; content: counter(i1, decimal)" "; color: black; font-style: normal; font-weight: normal; text-decoration: none; }
 #l12> li:first-child>*:first-child:before {counter-increment: i1 0;  }
 #l13 {padding-left: 0pt;counter-reset: i2 1; }
 #l13> li>*:first-child:before {counter-increment: i2; content: counter(i1, decimal)"."counter(i2, decimal)" "; color: #252525; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 18pt; }
 #l13> li:first-child>*:first-child:before {counter-increment: i2 0;  }
 #l14 {padding-left: 0pt;counter-reset: i3 1; }
 #l14> li>*:first-child:before {counter-increment: i3; content: counter(i3, decimal)". "; color: #252525; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt; }
 #l14> li:first-child>*:first-child:before {counter-increment: i3 0;  }
 li {display: block; }
 #l15 {padding-left: 0pt;counter-reset: j1 2; }
 #l15> li>*:first-child:before {counter-increment: j1; content: counter(j1, decimal)" "; color: black; font-style: normal; font-weight: normal; text-decoration: none; }
 #l15> li:first-child>*:first-child:before {counter-increment: j1 0;  }
 #l16 {padding-left: 0pt;counter-reset: j2 1; }
 #l16> li>*:first-child:before {counter-increment: j2; content: counter(j1, decimal)"."counter(j2, decimal)" "; color: #252525; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 18pt; }
 #l16> li:first-child>*:first-child:before {counter-increment: j2 0;  }
 #l17 {padding-left: 0pt;counter-reset: j3 1; }
 #l17> li>*:first-child:before {counter-increment: j3; content: counter(j3, decimal)". "; color: #404040; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 14pt; }
 #l17> li:first-child>*:first-child:before {counter-increment: j3 0;  }
 #l18 {padding-left: 0pt;counter-reset: j4 1; }
 #l18> li>*:first-child:before {counter-increment: j4; content: counter(j3, decimal)"."counter(j4, decimal)" "; color: #252525; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 18pt; }
 #l18> li:first-child>*:first-child:before {counter-increment: j4 0;  }
 #l19 {padding-left: 0pt;counter-reset: j4 1; }
 #l19> li>*:first-child:before {counter-increment: j4; content: counter(j3, decimal)"."counter(j4, decimal)" "; color: #252525; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 18pt; }
 #l19> li:first-child>*:first-child:before {counter-increment: j4 0;  }
 #l20 {padding-left: 0pt; }
 #l20> li>*:first-child:before {content: " "; color: #252525; font-family:Wingdings; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt; }
 li {display: block; }
 #l21 {padding-left: 0pt;counter-reset: k1 3; }
 #l21> li>*:first-child:before {counter-increment: k1; content: counter(k1, decimal)". "; color: #404040; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 14pt; }
 #l21> li:first-child>*:first-child:before {counter-increment: k1 0;  }
</style></head><body><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s1" style="padding-left: 43pt;text-indent: 0pt;text-align: left;"><span><img width="21" height="12" alt="image" src="index_files/Image_001.png"/></span>	<span><img width="19" height="19" alt="image" src="index_files/Image_002.png"/></span><span><img width="13" height="13" alt="image" src="index_files/Image_003.png"/></span><span class="s2">	</span><span><img width="326" height="112" alt="image" src="index_files/Image_004.png"/></span><span><img width="228" height="62" alt="image" src="index_files/Image_005.png"/></span><span><img width="14" height="14" alt="image" src="index_files/Image_006.png"/></span><span><img width="24" height="24" alt="image" src="index_files/Image_007.png"/></span><span class="s3">	</span><span><img width="21" height="17" alt="image" src="index_files/Image_008.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="22" height="30" alt="image" src="index_files/Image_009.png"/></span></p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="26" height="26" alt="image" src="index_files/Image_010.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="22" height="18" alt="image" src="index_files/Image_011.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="25" height="19" alt="image" src="index_files/Image_012.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="445" height="270" alt="image" src="index_files/Image_013.png"/></span></p><h1 style="padding-left: 119pt;text-indent: 0pt;line-height: 58pt;text-align: center;">Vue全家桶-项目优化上线</h1><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 170pt;text-indent: 0pt;line-height: 15pt;text-align: left;"><span><img width="20" height="20" alt="image" src="index_files/Image_014.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s4" style="padding-left: 150pt;text-indent: 0pt;text-align: left;"><span><img width="18" height="9" alt="image" src="index_files/Image_015.png"/></span>	<span class="s5">	</span><span><img width="15" height="14" alt="image" src="index_files/Image_016.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 105pt;text-indent: 0pt;text-align: left;"><span><img width="20" height="17" alt="image" src="index_files/Image_017.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="135" height="64" alt="image" src="index_files/Image_018.png"/></span></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 73pt;text-align: left;"><span style=" color: #FFF; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 44pt;">目</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="15" height="8" alt="image" src="index_files/Image_019.png"/></span><span><img width="14" height="11" alt="image" src="index_files/Image_020.png"/></span></p><p class="s6" style="padding-left: 1pt;text-indent: 0pt;line-height: 50pt;text-align: left;">Contents</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="445" height="270" alt="image" src="index_files/Image_021.png"/></span></p><ul id="l1"><li><p class="s7" style="padding-top: 1pt;padding-left: 271pt;text-indent: -22pt;text-align: left;">项目优化</p><p style="text-indent: 0pt;text-align: left;"/></li><li><p class="s8" style="padding-top: 7pt;padding-left: 271pt;text-indent: -22pt;text-align: left;">项目上线</p></li></ul><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="135" height="64" alt="image" src="index_files/Image_022.png"/></span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 43pt;text-align: left;"><span><img width="10" height="33" alt="image" src="index_files/Image_023.png"/></span>    <span class="h2">1. 项目优化</span></p><ol id="l2"><ol id="l3"><li><h3 style="padding-top: 9pt;padding-left: 66pt;text-indent: -32pt;text-align: left;">项目优化策略</h3><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="445" height="270" alt="image" src="index_files/Image_024.png"/></span></p><ol id="l4"><li><p class="s9" style="padding-top: 2pt;padding-left: 51pt;text-indent: -13pt;line-height: 19pt;text-align: left;">生成打包报告</p></li><li><p class="s9" style="padding-left: 51pt;text-indent: -13pt;line-height: 19pt;text-align: left;">第三方库启用 CDN</p></li><li><p class="s9" style="padding-left: 51pt;text-indent: -13pt;line-height: 19pt;text-align: left;">Element-UI 组件按需加载</p></li><li><p class="s9" style="padding-left: 51pt;text-indent: -13pt;line-height: 19pt;text-align: left;">路由懒加载</p><p style="text-indent: 0pt;text-align: left;"/></li><li><p class="s9" style="padding-left: 51pt;text-indent: -13pt;line-height: 19pt;text-align: left;">首页内容定制</p></li></ol></li></ol></ol><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="135" height="64" alt="image" src="index_files/Image_025.png"/></span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 43pt;text-align: left;"><span><img width="10" height="33" alt="image" src="index_files/Image_026.png"/></span>    <span class="h2">1. 项目优化</span></p><ol id="l5"><ol id="l6"><li><h3 style="padding-top: 9pt;padding-left: 66pt;text-indent: -32pt;text-align: left;">项目优化策略</h3><p style="text-indent: 0pt;text-align: left;"><span><img width="445" height="270" alt="image" src="index_files/Image_027.png"/></span></p><ol id="l7"><li><h4 style="padding-top: 7pt;padding-left: 56pt;text-indent: -16pt;text-align: left;">生成打包报告</h4><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s9" style="padding-top: 2pt;padding-left: 43pt;text-indent: 0pt;line-height: 19pt;text-align: left;">打包时，为了直观地发现项目中存在的问题，可以在打包时生成报告。生成报告的方式有两种：</p><p class="s9" style="padding-left: 43pt;text-indent: 0pt;line-height: 19pt;text-align: left;">① 通过命令行参数的形式生成报告</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 19pt;text-indent: 0pt;line-height: 18pt;text-align: left;">// <span class="s5">通过 </span>vue-cli <span class="s5">的命令选项可以生成打包报告</span></p><p style="padding-left: 19pt;text-indent: 0pt;line-height: 18pt;text-align: left;">// <span class="s10">--report </span><span class="s5">选项可以生成 </span>report.html <span class="s5">以帮助分析包内容</span></p><p style="padding-top: 4pt;padding-left: 19pt;text-indent: 0pt;text-align: left;">vue-cli-service build <span style=" color: #F00;">--report</span></p><p style="padding-left: 60pt;text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-top: 4pt;padding-left: 43pt;text-indent: 0pt;line-height: 19pt;text-align: left;">② 通过可视化的UI面板直接查看报告（<span style=" color: #F00;">推荐</span>）</p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-left: 61pt;text-indent: 0pt;line-height: 19pt;text-align: left;">在可视化的UI面板中，通过<span style=" color: #F00;">控制台</span>和<span style=" color: #F00;">分析</span>面板，可以方便地看到项目中所存在的问题。</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="135" height="64" alt="image" src="index_files/Image_028.png"/></span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 43pt;text-align: left;"><span><img width="10" height="33" alt="image" src="index_files/Image_029.png"/></span>    <span class="h2">1. 项目优化</span></p><ol id="l8"><li><h3 style="padding-top: 9pt;padding-left: 66pt;text-indent: -32pt;text-align: left;">项目优化策略</h3><p style="text-indent: 0pt;text-align: left;"><span><img width="445" height="270" alt="image" src="index_files/Image_030.png"/></span></p></li></ol></li><li><h4 style="padding-top: 7pt;padding-left: 56pt;text-indent: -16pt;text-align: left;">通过 vue.config.js 修改 webpack 的默认配置</h4><p class="s9" style="padding-top: 12pt;padding-left: 43pt;text-indent: 0pt;text-align: left;">通过 vue-cli 3.0 工具生成的项目，<span style=" color: #F00;">默认隐藏了所有 webpack 的配置项</span><span>，目的是为了屏蔽项目的配置过程，让程<br/>序员把工作的重心，放到具体功能和业务逻辑的实现上。</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-left: 43pt;text-indent: 0pt;text-align: left;">如果程序员有修改 webpack 默认配置的需求，可以在项目根目录中，按需创建 <span style=" color: #F00;">vue.config.js </span><a href="https://cli.vuejs.org/zh/config/#vue-config-js" style=" color: #252525; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt;" target="_blank">这个配置文件，从<br/>而对项目的打包发布过程做自定义的配置（具体配置参考 </a><a href="https://cli.vuejs.org/zh/config/#vue-config-js" class="a" target="_blank">https://cli.vuejs.org/zh/config/#vue-config-</a><span style=" color: #00F; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 10.5pt;">js</span>）。</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 19pt;text-indent: 0pt;text-align: left;">// vue.config.js</p><p style="padding-top: 2pt;padding-left: 19pt;text-indent: 0pt;text-align: left;">// <span class="s5">这个文件中，应该导出一个包含了自定义配置选项的对象</span></p><p style="padding-top: 4pt;padding-left: 19pt;text-indent: 0pt;text-align: left;">module.exports = {</p><p style="padding-top: 2pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">// <span class="s5">选项</span>...</p><p style="padding-top: 4pt;padding-left: 19pt;text-indent: 0pt;text-align: left;">}</p><p style="padding-left: 43pt;text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="135" height="64" alt="image" src="index_files/Image_031.png"/></span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 43pt;text-align: left;"><span><img width="10" height="33" alt="image" src="index_files/Image_032.png"/></span>    <span class="h2">1. 项目优化</span></p><h3 style="padding-top: 9pt;padding-left: 33pt;text-indent: 0pt;text-align: left;">1.1 项目优化策略</h3><p style="text-indent: 0pt;text-align: left;"><span><img width="445" height="270" alt="image" src="index_files/Image_033.png"/></span></p></li><li><h4 style="padding-top: 7pt;padding-left: 56pt;text-indent: -16pt;text-align: left;">为开发模式与发布模式指定不同的打包入口</h4><p class="s9" style="padding-top: 12pt;padding-left: 43pt;text-indent: 0pt;text-align: left;">默认情况下，Vue项目的<span style=" color: #F00;">开发模式</span>与<span style=" color: #F00;">发布模式</span>，共用同一个打包的入口文件（即 <span style=" color: #F00;">src/main.js</span><span>）。为了将项目<br/>的开发过程与发布过程分离，我们可以为两种模式，各自指定打包的入口文件，即：</span></p><p class="s9" style="padding-left: 43pt;text-indent: 0pt;line-height: 19pt;text-align: left;">① 开发模式的入口文件为 <span style=" color: #F00;">src/main-dev.js</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-left: 43pt;text-indent: 0pt;line-height: 19pt;text-align: left;">② 发布模式的入口文件为 <span style=" color: #F00;">src/main-prod.js</span></p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="135" height="64" alt="image" src="index_files/Image_034.png"/></span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 43pt;text-align: left;"><span><img width="10" height="33" alt="image" src="index_files/Image_035.png"/></span>    <span class="h2">1. 项目优化</span></p><h3 style="padding-top: 9pt;padding-left: 33pt;text-indent: 0pt;text-align: left;">1.1 项目优化策略</h3><p style="text-indent: 0pt;text-align: left;"><span><img width="445" height="270" alt="image" src="index_files/Image_036.png"/></span></p></li><li><h4 style="padding-top: 7pt;padding-left: 56pt;text-indent: -16pt;text-align: left;">configureWebpack 和 chainWebpack</h4><p class="s9" style="padding-top: 12pt;padding-left: 43pt;text-indent: 0pt;text-align: left;"><span>在 vue.config.js 导出的配置对象中，新增 configureWebpack 或 chainWebpack 节点，来自定义 webpack<br/>的打包配置。</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 43pt;text-indent: 0pt;text-align: left;"><span>在这里， configureWebpack 和 chainWebpack 的作用相同，唯一的区别就是它们修改 webpack 配置的方<br/>式不同：</span></p><p class="s9" style="padding-left: 43pt;text-indent: 0pt;line-height: 19pt;text-align: left;">① chainWebpack 通过<span style=" color: #F00;">链式编程</span>的形式，来修改默认的 webpack 配置</p><p class="s9" style="padding-left: 43pt;text-indent: 0pt;line-height: 19pt;text-align: left;">② configureWebpack 通过<span style=" color: #F00;">操作对象</span>的形式，来修改默认的 webpack 配置</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 43pt;text-indent: 0pt;text-align: left;"><a href="https://cli.vuejs.org/zh/guide/webpack.html#webpack-%E7%9B%B8%E5%85%B3" style=" color: #252525; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt;" target="_blank">两者具体的使用差异，可参考如下网址：<br/></a><a href="https://cli.vuejs.org/zh/guide/webpack.html#webpack-%E7%9B%B8%E5%85%B3" class="a" target="_blank">https://cli.vuejs.org/zh/guide/webpack.html#webpack-</a><a href="https://cli.vuejs.org/zh/guide/webpack.html#webpack-%E7%9B%B8%E5%85%B3" target="_blank">%E7%9B%B8%E5%85%B3</a></p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="135" height="64" alt="image" src="index_files/Image_037.png"/></span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 43pt;text-align: left;"><span><img width="10" height="33" alt="image" src="index_files/Image_038.png"/></span>    <span class="h2">1. 项目优化</span></p><h3 style="padding-top: 9pt;padding-left: 33pt;text-indent: 0pt;text-align: left;">1.1 项目优化策略</h3><p style="text-indent: 0pt;text-align: left;"><span><img width="445" height="270" alt="image" src="index_files/Image_039.png"/></span></p></li><li><h4 style="padding-top: 7pt;padding-left: 56pt;text-indent: -16pt;text-align: left;">通过 chainWebpack 自定义打包入口</h4><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-top: 12pt;padding-bottom: 4pt;padding-left: 43pt;text-indent: 0pt;text-align: left;">代码示例如下：</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 19pt;text-indent: -12pt;line-height: 159%;text-align: left;"><span>module.exports = {<br/>chainWebpack: config =&gt; {</span></p><p style="padding-left: 43pt;text-indent: -12pt;line-height: 159%;text-align: left;">config.<span style=" color: #F00;">when</span><span>(process.env.NODE_ENV === &#39;production&#39;, config =&gt; {<br/>config.</span><span style=" color: #00AFEF;">entry</span>(&#39;app&#39;).<span style=" color: #00AFEF;">clear</span>().<span style=" color: #00AFEF;">add</span>(&#39;./src/main-prod.js&#39;)</p><p style="padding-left: 31pt;text-indent: 0pt;text-align: left;">})</p><p style="padding-top: 6pt;padding-left: 43pt;text-indent: -12pt;line-height: 159%;text-align: left;">config.<span style=" color: #F00;">when</span><span>(process.env.NODE_ENV === &#39;development&#39;, config =&gt; {<br/>config.</span><span style=" color: #00AFEF;">entry</span>(&#39;app&#39;).<span style=" color: #00AFEF;">clear</span>().<span style=" color: #00AFEF;">add</span>(&#39;./src/main-dev.js&#39;)</p><p style="padding-left: 31pt;text-indent: 0pt;line-height: 11pt;text-align: left;">})</p><p style="padding-top: 6pt;padding-left: 19pt;text-indent: 0pt;text-align: left;">}</p><p style="padding-top: 6pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">}</p><p style="padding-left: 35pt;text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="135" height="64" alt="image" src="index_files/Image_040.png"/></span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 43pt;text-align: left;"><span><img width="10" height="33" alt="image" src="index_files/Image_041.png"/></span>    <span class="h2">1. 项目优化</span></p><h3 style="padding-top: 9pt;padding-left: 33pt;text-indent: 0pt;text-align: left;">1.1 项目优化策略</h3><p style="text-indent: 0pt;text-align: left;"><span><img width="445" height="270" alt="image" src="index_files/Image_042.png"/></span></p></li><li><h4 style="padding-top: 7pt;padding-left: 56pt;text-indent: -16pt;text-align: left;">通过 externals 加载外部 CDN 资源</h4></li></ol></li></ol></ol><p class="s9" style="padding-top: 12pt;padding-left: 43pt;text-indent: 0pt;text-align: left;"><span>默认情况下，通过 import 语法导入的第三方依赖包，最终会被打包合并到同一个文件中，从而导致打包成功<br/>后，单文件体积过大的问题。</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-left: 43pt;text-indent: 0pt;text-align: left;"><span>为了解决上述问题，可以通过 webpack 的 externals 节点，来配置并加载外部的 CDN 资源。凡是声明在<br/>externals 中的第三方依赖包，都不会被打包。</span></p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="135" height="64" alt="image" src="index_files/Image_043.png"/></span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 43pt;text-align: left;"><span><img width="10" height="33" alt="image" src="index_files/Image_044.png"/></span>    <span class="h2">1. 项目优化</span></p><h3 style="padding-top: 9pt;padding-left: 33pt;text-indent: 0pt;text-align: left;">1.1 项目优化策略</h3><p style="text-indent: 0pt;text-align: left;"><span><img width="445" height="270" alt="image" src="index_files/Image_045.png"/></span></p><h4 style="padding-top: 7pt;padding-left: 39pt;text-indent: 0pt;text-align: left;">6. 通过 externals 加载外部 CDN 资源</h4><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-top: 12pt;padding-bottom: 4pt;padding-left: 43pt;text-indent: 0pt;text-align: left;">具体配置代码如下：</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 19pt;text-indent: -12pt;line-height: 159%;text-align: left;"><span>config.set(&#39;externals&#39;, {<br/></span><span style=" color: #F00;">vue</span>: &#39;<span style=" color: #00AFEF;">Vue</span>&#39;,</p><p style="padding-left: 19pt;text-indent: 0pt;line-height: 159%;text-align: left;">&#39;<span style=" color: #F00;">vue-router</span>&#39;: &#39;<span style=" color: #00AFEF;">VueRouter</span><span>&#39;,<br/></span><span style=" color: #F00;">axios</span>: &#39;<span style=" color: #00AFEF;">axios</span>&#39;,</p><p style="padding-left: 19pt;text-indent: 0pt;line-height: 159%;text-align: left;"><span style=" color: #F00;">lodash</span>: &#39;<span style=" color: #00AFEF;">_</span><span>&#39;,<br/></span><span style=" color: #F00;">echarts</span>: &#39;<span style=" color: #00AFEF;">echarts</span>&#39;,</p><p style="padding-left: 19pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><span style=" color: #F00;">nprogress</span>: &#39;<span style=" color: #00AFEF;">NProgress</span>&#39;,</p><p style="padding-top: 6pt;padding-left: 19pt;text-indent: 0pt;text-align: left;">&#39;<span style=" color: #F00;">vue-quill-editor</span>&#39;: &#39;<span style=" color: #00AFEF;">VueQuillEditor</span>&#39;</p><p style="padding-top: 6pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">})</p><p style="padding-left: 35pt;text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="135" height="64" alt="image" src="index_files/Image_046.png"/></span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 43pt;text-align: left;"><span><img width="10" height="33" alt="image" src="index_files/Image_047.png"/></span>    <span class="h2">1. 项目优化</span></p><h3 style="padding-top: 9pt;padding-left: 33pt;text-indent: 0pt;text-align: left;">1.1 项目优化策略</h3><p style="text-indent: 0pt;text-align: left;"><span><img width="445" height="270" alt="image" src="index_files/Image_048.png"/></span></p><h4 style="padding-top: 7pt;padding-left: 39pt;text-indent: 0pt;text-align: left;">6. 通过 externals 加载外部 CDN 资源</h4><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-top: 12pt;padding-bottom: 4pt;padding-left: 43pt;text-indent: 0pt;text-align: left;">同时，需要在 public/index.html 文件的头部，添加如下的 CDN 资源引用：</p><p class="s14" style="padding-top: 8pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">&lt;!-- nprogress <span class="s15">的样式表文件 </span>--&gt;</p><p style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.staticfile.org/nprogress/0.2.0/<span style=" color: #00AFEF;">nprogress</span>.min.css&quot; /&gt;</p><p class="s14" style="padding-top: 1pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">&lt;!-- <span class="s15">富文本编辑器 的样式表文件 </span>--&gt;</p><p style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.staticfile.org/quill/1.3.4/<span style=" color: #00AFEF;">quill.core</span>.min.css&quot; /&gt;</p><p style="padding-top: 6pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.staticfile.org/quill/1.3.4/<span style=" color: #00AFEF;">quill.snow</span>.min.css&quot; /&gt;</p><p style="padding-top: 6pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.staticfile.org/quill/1.3.4/<span style=" color: #00AFEF;">quill.bubble</span>.min.css&quot; /&gt;</p><p style="padding-left: 35pt;text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="135" height="64" alt="image" src="index_files/Image_049.png"/></span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 43pt;text-align: left;"><span><img width="10" height="33" alt="image" src="index_files/Image_050.png"/></span>    <span class="h2">1. 项目优化</span></p><h3 style="padding-top: 9pt;padding-left: 33pt;text-indent: 0pt;text-align: left;">1.1 项目优化策略</h3><p style="text-indent: 0pt;text-align: left;"><span><img width="445" height="270" alt="image" src="index_files/Image_051.png"/></span></p><ol id="l9"><li><h4 style="padding-top: 7pt;padding-left: 56pt;text-indent: -16pt;text-align: left;">通过 externals 加载外部 CDN 资源</h4><p class="s9" style="padding-top: 12pt;padding-left: 43pt;text-indent: 0pt;text-align: left;">同时，需要在 public/index.html 文件的头部，添加如下的 CDN 资源引用：</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-top: 4pt;padding-left: 43pt;text-indent: 0pt;text-align: left;">&lt;script src=&quot;https://cdn.staticfile.org/vue/2.5.22/<span style=" color: #00AFEF;">vue</span>.min.js&quot;&gt;&lt;/script&gt;</p><p style="padding-top: 6pt;padding-left: 43pt;text-indent: 0pt;text-align: left;">&lt;script src=&quot;https://cdn.staticfile.org/vue-router/3.0.1/<span style=" color: #00AFEF;">vue-router</span>.min.js&quot;&gt;&lt;/script&gt;</p><p style="padding-top: 6pt;padding-left: 43pt;text-indent: 0pt;text-align: left;">&lt;script src=&quot;https://cdn.staticfile.org/axios/0.18.0/<span style=" color: #00AFEF;">axios</span>.min.js&quot;&gt;&lt;/script&gt;</p><p style="padding-top: 6pt;padding-left: 43pt;text-indent: 0pt;text-align: left;">&lt;script src=&quot;https://cdn.staticfile.org/lodash.js/4.17.11/<span style=" color: #00AFEF;">lodash</span>.min.js&quot;&gt;&lt;/script&gt;</p><p style="padding-top: 6pt;padding-left: 43pt;text-indent: 0pt;text-align: left;">&lt;script src=&quot;https://cdn.staticfile.org/echarts/4.1.0/<span style=" color: #00AFEF;">echarts</span>.min.js&quot;&gt;&lt;/script&gt;</p><p style="padding-top: 6pt;padding-left: 43pt;text-indent: 0pt;text-align: left;">&lt;script src=&quot;https://cdn.staticfile.org/nprogress/0.2.0/<span style=" color: #00AFEF;">nprogress</span>.min.js&quot;&gt;&lt;/script&gt;</p><p class="s14" style="padding-top: 1pt;padding-left: 43pt;text-indent: 0pt;text-align: left;">&lt;!-- <span class="s15">富文本编辑器的 </span>js <span class="s15">文件 </span>--&gt;</p><p style="padding-top: 3pt;padding-left: 43pt;text-indent: 0pt;text-align: left;">&lt;script src=&quot;https://cdn.staticfile.org/quill/1.3.4/<span style=" color: #00AFEF;">quill</span>.min.js&quot;&gt;&lt;/script&gt;</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-top: 6pt;padding-left: 43pt;text-indent: 0pt;text-align: left;"><a href="https://cdn.jsdelivr.net/npm/vue-quill-editor%403.0.4/dist/vue-quill-editor.js" class="s16" target="_blank">&lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue-quill-</a>editor@3.0.4/dist/<a href="https://cdn.jsdelivr.net/npm/vue-quill-editor%403.0.4/dist/vue-quill-editor.js" class="s17" target="_blank">vue-quill-editor</a><a href="https://cdn.jsdelivr.net/npm/vue-quill-editor%403.0.4/dist/vue-quill-editor.js" class="s16" target="_blank">.js&quot;&gt;&lt;/script&gt;</a></p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="135" height="64" alt="image" src="index_files/Image_052.png"/></span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 43pt;text-align: left;"><span><img width="10" height="33" alt="image" src="index_files/Image_053.png"/></span>    <span class="h2">1. 项目优化</span></p><h3 style="padding-top: 9pt;padding-left: 33pt;text-indent: 0pt;text-align: left;">1.1 项目优化策略</h3><p style="text-indent: 0pt;text-align: left;"><span><img width="445" height="270" alt="image" src="index_files/Image_054.png"/></span></p></li><li><h4 style="padding-top: 7pt;padding-left: 56pt;text-indent: -16pt;text-align: left;">通过 CDN 优化 ElementUI 的打包</h4><p class="s9" style="padding-top: 12pt;padding-left: 43pt;text-indent: 0pt;text-align: justify;"><span>虽然在开发阶段，我们启用了 element-ui 组件的按需加载，尽可能的减少了打包的体积，但是那些被按需加<br/>载的组件，还是占用了较大的文件体积。此时，我们可以将 element-ui 中的组件，也通过 CDN 的形式来加<br/>载，这样能够进一步减小打包后的文件体积。</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s9" style="padding-left: 43pt;text-indent: 0pt;line-height: 19pt;text-align: left;">具体操作流程如下：</p><p class="s9" style="padding-left: 43pt;text-indent: 0pt;line-height: 19pt;text-align: left;">① 在 main-prod.js 中，注释掉 element-ui 按需加载的代码</p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-left: 43pt;text-indent: 0pt;line-height: 19pt;text-align: left;">② 在 index.html 的头部区域中，通过 CDN 加载 element-ui 的 js 和 css 样式</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s14" style="padding-top: 5pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">&lt;!-- element-ui <span class="s15">的样式表文件 </span>--&gt;</p><p style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;line-height: 159%;text-align: left;">&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.staticfile.org/element-ui/2.8.2/<span style=" color: #00AFEF;">theme-<br/>chalk/index.css</span>&quot; /&gt;</p><p class="s14" style="padding-left: 7pt;text-indent: 0pt;line-height: 14pt;text-align: left;">&lt;!-- element-ui <span class="s15">的 </span>js <span class="s15">文件 </span>--&gt;</p><p style="padding-top: 3pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">&lt;script src=&quot;https://cdn.staticfile.org/element-ui/2.8.2/<span style=" color: #00AFEF;">index.js</span>&quot;&gt;&lt;/script&gt;</p><p style="padding-left: 64pt;text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="135" height="64" alt="image" src="index_files/Image_055.png"/></span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 43pt;text-align: left;"><span><img width="10" height="33" alt="image" src="index_files/Image_056.png"/></span>    <span class="h2">1. 项目优化</span></p><h3 style="padding-top: 9pt;padding-left: 33pt;text-indent: 0pt;text-align: left;">1.1 项目优化策略</h3><p style="text-indent: 0pt;text-align: left;"><span><img width="445" height="270" alt="image" src="index_files/Image_057.png"/></span></p></li><li><h4 style="padding-top: 7pt;padding-left: 56pt;text-indent: -16pt;text-align: left;">首页内容定制</h4></li></ol><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s9" style="padding-top: 2pt;padding-left: 43pt;text-indent: 0pt;text-align: left;">不同的打包环境下，首页内容可能会有所不同。我们可以通过插件的方式进行定制，插件配置如下：</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s18" style="padding-top: 5pt;padding-left: 45pt;text-indent: 0pt;text-align: left;">chainWebpack: config =&gt; {</p><p class="s18" style="padding-top: 4pt;padding-left: 69pt;text-indent: -12pt;line-height: 141%;text-align: left;">config.when(process.env.NODE_ENV === <span style=" color: #F00;">&#39;production</span><span>&#39;, config =&gt; {<br/>config.plugin(&#39;html&#39;).tap(args =&gt; {</span></p><p class="s11" style="padding-left: 81pt;text-indent: 0pt;line-height: 142%;text-align: left;">args[0].isProd = <span style=" color: #00AFEF;">true<br/></span><span style=" color: #252525;">return args</span></p><p class="s18" style="padding-left: 69pt;text-indent: 0pt;line-height: 11pt;text-align: left;">})</p><p class="s18" style="padding-top: 4pt;padding-left: 57pt;text-indent: 0pt;text-align: left;">})</p><p class="s18" style="padding-top: 4pt;padding-left: 69pt;text-indent: -12pt;line-height: 141%;text-align: left;">config.when(process.env.NODE_ENV === <span style=" color: #F00;">&#39;development</span><span>&#39;, config =&gt; {<br/>config.plugin(&#39;html&#39;).tap(args =&gt; {</span></p><p class="s11" style="padding-left: 81pt;text-indent: 0pt;line-height: 142%;text-align: left;">args[0].isProd = <span style=" color: #00AFEF;">false<br/></span><span style=" color: #252525;">return args</span></p><p class="s18" style="padding-left: 69pt;text-indent: 0pt;line-height: 11pt;text-align: left;">})</p><p class="s18" style="padding-top: 4pt;padding-left: 57pt;text-indent: 0pt;text-align: left;">})</p><p style="text-indent: 0pt;text-align: left;"/><p class="s18" style="padding-top: 4pt;padding-left: 45pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="135" height="64" alt="image" src="index_files/Image_058.png"/></span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 43pt;text-align: left;"><span><img width="10" height="33" alt="image" src="index_files/Image_059.png"/></span>    <span class="h2">1. 项目优化</span></p><h3 style="padding-top: 9pt;padding-left: 33pt;text-indent: 0pt;text-align: left;">1.1 项目优化策略</h3><p style="text-indent: 0pt;text-align: left;"><span><img width="445" height="270" alt="image" src="index_files/Image_060.png"/></span></p><ol id="l10"><li><h4 style="padding-top: 7pt;padding-left: 56pt;text-indent: -16pt;text-align: left;">首页内容定制</h4><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-top: 2pt;padding-bottom: 3pt;padding-left: 43pt;text-indent: 0pt;text-align: left;">在 public/index.html 首页中，可以根据 <span style=" color: #F00;">isProd </span>的值，来决定如何渲染页面结构：</p><p class="s19" style="padding-top: 5pt;padding-left: 7pt;text-indent: 0pt;line-height: 18pt;text-align: left;">&lt;!– <span class="s20">按需渲染页面的标题 </span>--&gt;</p><p class="s18" style="padding-left: 7pt;text-indent: 0pt;line-height: 17pt;text-align: left;">&lt;title&gt;<span style=" color: #F00;">&lt;%= htmlWebpackPlugin.options.isProd ? &#39;&#39; : &#39;dev - &#39; %&gt;</span><span class="s21">电商后台管理系统</span>&lt;/title&gt;</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s19" style="padding-left: 7pt;text-indent: 0pt;text-align: left;">&lt;!– <span class="s20">按需加载外部的 </span>CDN <span class="s20">资源 </span>--&gt;</p><p class="s11" style="padding-top: 2pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">&lt;% if(htmlWebpackPlugin.options.isProd) { %&gt;</p><p class="s18" style="padding-left: 7pt;text-indent: 0pt;text-align: left;">&lt;!—<span class="s21">通过 </span>externals <span class="s21">加载的外部 </span>CDN <span class="s21">资源</span>--&gt;</p><p class="s11" style="padding-top: 2pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">&lt;% } %&gt;</p><p style="padding-left: 38pt;text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="135" height="64" alt="image" src="index_files/Image_061.png"/></span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 43pt;text-align: left;"><span><img width="10" height="33" alt="image" src="index_files/Image_062.png"/></span>    <span class="h2">1. 项目优化</span></p><h3 style="padding-top: 9pt;padding-left: 33pt;text-indent: 0pt;text-align: left;">1.1 项目优化策略</h3><p style="text-indent: 0pt;text-align: left;"><span><img width="445" height="270" alt="image" src="index_files/Image_063.png"/></span></p></li><li><h4 style="padding-top: 7pt;padding-left: 56pt;text-indent: -16pt;text-align: left;">路由懒加载</h4></li></ol><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s9" style="padding-top: 2pt;padding-left: 43pt;text-indent: 0pt;text-align: left;"><span>当打包构建项目时，JavaScript 包会变得非常大，影响页面加载。如果我们能把不同路由对应的组件分割成<br/>不同的代码块，然后当路由被访问的时候才加载对应组件，这样就更加高效了。</span></p><p class="s9" style="padding-left: 43pt;text-indent: 0pt;line-height: 19pt;text-align: left;">具体需要 3 步：</p><p class="s9" style="padding-left: 43pt;text-indent: 0pt;line-height: 19pt;text-align: left;">① 安装 <span style=" color: #F00;">@babel/plugin-syntax-dynamic-import </span>包。</p><p class="s9" style="padding-left: 43pt;text-indent: 0pt;line-height: 19pt;text-align: left;">② 在 <span style=" color: #F00;">babel.config.js </span>配置文件中声明该插件。</p><p class="s9" style="padding-bottom: 1pt;padding-left: 43pt;text-indent: 0pt;line-height: 19pt;text-align: left;">③ 将路由改为按需加载的形式，示例代码如下：</p><p style="padding-top: 8pt;padding-left: 7pt;text-indent: 0pt;line-height: 159%;text-align: justify;">const <span style=" color: #F00;">Foo </span>= () =&gt; import(/* webpackChunkName: &quot;<span style=" color: #00AFEF;">group-foo</span>&quot; */ &#39;<span style=" color: #F00;">./Foo.vue</span><span>&#39;)<br/>const </span><span style=" color: #F00;">Bar </span>= () =&gt; import(/* webpackChunkName: &quot;<span style=" color: #00AFEF;">group-foo</span>&quot; */ &#39;<span style=" color: #F00;">./Bar.vue</span><span>&#39;)<br/>const </span><span style=" color: #F00;">Baz </span>= () =&gt; import(/* webpackChunkName: &quot;group-boo&quot; */ &#39;<span style=" color: #F00;">./Baz.vue</span>&#39;)</p><p style="padding-left: 35pt;text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="padding-top: 5pt;padding-left: 43pt;text-indent: 0pt;line-height: 130%;text-align: left;"><a href="https://router.vuejs.org/zh/guide/advanced/lazy-loading.html" style=" color: #252525; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10.5pt;" target="_blank">关于路由懒加载的详细文档，可参考如下链接：<br/></a><a href="https://router.vuejs.org/zh/guide/advanced/lazy-loading.html" class="a" target="_blank">https://router.vuejs.org/zh/guide/advanced/lazy-</a><a href="https://router.vuejs.org/zh/guide/advanced/lazy-loading.html" target="_blank">loading.html</a></p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><span><img width="10" height="33" alt="image" src="index_files/Image_064.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="135" height="64" alt="image" src="index_files/Image_065.png"/></span></p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 73pt;text-align: left;"><span style=" color: #FFF; font-family:微软雅黑, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 44pt;">目</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="15" height="8" alt="image" src="index_files/Image_066.png"/></span><span><img width="14" height="11" alt="image" src="index_files/Image_067.png"/></span></p><p class="s6" style="padding-left: 1pt;text-indent: 0pt;line-height: 50pt;text-align: left;">Contents</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="445" height="270" alt="image" src="index_files/Image_068.png"/></span></p><ul id="l11"><li><p class="s8" style="padding-top: 9pt;padding-left: 271pt;text-indent: -22pt;text-align: left;">项目优化</p><p style="text-indent: 0pt;text-align: left;"/></li><li><p class="s7" style="padding-top: 7pt;padding-left: 271pt;text-indent: -22pt;text-align: left;">项目上线</p></li></ul><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="135" height="64" alt="image" src="index_files/Image_069.png"/></span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 43pt;text-align: left;"><span><img width="10" height="33" alt="image" src="index_files/Image_070.png"/></span>    <span class="h2">2. 项目上线</span></p><ol id="l12"><ol id="l13"><li><h3 style="padding-top: 9pt;padding-left: 66pt;text-indent: -32pt;text-align: left;">项目上线相关配置</h3><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="445" height="270" alt="image" src="index_files/Image_071.png"/></span></p><ol id="l14"><li><p class="s9" style="padding-top: 2pt;padding-left: 53pt;text-indent: -14pt;text-align: left;">通过 node 创建 web 服务器。</p></li><li><p class="s9" style="padding-top: 5pt;padding-left: 53pt;text-indent: -14pt;text-align: left;">开启 gzip 配置。</p></li><li><p class="s9" style="padding-top: 5pt;padding-left: 53pt;text-indent: -14pt;text-align: left;">配置 https 服务。</p><p style="text-indent: 0pt;text-align: left;"/></li><li><p class="s9" style="padding-top: 5pt;padding-left: 53pt;text-indent: -14pt;text-align: left;">使用 pm2 管理应用。</p></li></ol></li></ol></ol><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="135" height="64" alt="image" src="index_files/Image_072.png"/></span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 43pt;text-align: left;"><span><img width="10" height="33" alt="image" src="index_files/Image_073.png"/></span>    <span class="h2">2. 项目上线</span></p><ol id="l15"><ol id="l16"><li><h3 style="padding-top: 9pt;padding-left: 66pt;text-indent: -32pt;text-align: left;">项目上线相关配置</h3><p style="text-indent: 0pt;text-align: left;"><span><img width="445" height="270" alt="image" src="index_files/Image_074.png"/></span></p><ol id="l17"><li><h4 style="padding-top: 7pt;padding-left: 56pt;text-indent: -16pt;text-align: left;">通过 node 创建 web 服务器</h4><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-top: 8pt;padding-left: 43pt;text-indent: 0pt;line-height: 130%;text-align: left;"><span>创建 node 项目，并安装 express，通过 express 快速创建 web 服务器，将 vue 打包生成的 dist 文件夹，<br/>托管为静态资源即可，关键代码如下：</span></p><p style="padding-top: 8pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">const express = require(<span style=" color: #252525;">&#39;</span>express<span style=" color: #252525;">&#39;</span>)</p><p style="padding-top: 2pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">// <span class="s5">创建 </span>web <span class="s5">服务器</span></p><p style="padding-top: 4pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">const app = express()</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 7pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">// <span class="s5">托管静态资源</span></p><p class="s11" style="padding-top: 4pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">app.use(express.static(&#39;./dist&#39;))</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 7pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">// <span class="s5">启动 </span>web <span class="s5">服务器</span></p><p style="padding-top: 4pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">app.listen(80, () =&gt; {</p><p style="padding-top: 6pt;padding-left: 19pt;text-indent: 0pt;text-align: left;">console.log(<span style=" color: #252525;">&#39;</span>web server running at http://127.0.0.1<span style=" color: #252525;">&#39;</span>)</p><p style="padding-top: 6pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">})</p><p style="padding-left: 38pt;text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="135" height="64" alt="image" src="index_files/Image_075.png"/></span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 43pt;text-align: left;"><span><img width="10" height="33" alt="image" src="index_files/Image_076.png"/></span>    <span class="h2">2. 项目上线</span></p><h3 style="padding-top: 9pt;padding-left: 33pt;text-indent: 0pt;text-align: left;">2.1 项目上线相关配置</h3><p style="text-indent: 0pt;text-align: left;"><span><img width="445" height="270" alt="image" src="index_files/Image_077.png"/></span></p></li><li><h4 style="padding-top: 7pt;padding-left: 56pt;text-indent: -16pt;text-align: left;">开启 gzip 配置</h4><p class="s9" style="padding-top: 8pt;padding-left: 43pt;text-indent: 0pt;text-align: left;">使用 <span style=" color: #F00;">gzip </span>可以减小文件体积，使传输速度更快。</p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-top: 5pt;padding-left: 43pt;text-indent: 0pt;text-align: left;">② 可以通过服务器端使用 Express 做 gzip 压缩。其配置如下：</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s18" style="padding-top: 8pt;padding-left: 19pt;text-indent: 0pt;text-align: left;">// <span class="s21">安装相应包</span></p><p class="s18" style="padding-top: 4pt;padding-left: 19pt;text-indent: 0pt;text-align: left;">npm install compression -S</p><p class="s18" style="padding-top: 2pt;padding-left: 19pt;text-indent: 0pt;text-align: left;">// <span class="s21">导入包</span></p><p class="s18" style="padding-top: 4pt;padding-left: 19pt;text-indent: 0pt;text-align: left;">const compression = require(&#39;compression&#39;);</p><p class="s18" style="padding-top: 2pt;padding-left: 19pt;text-indent: 0pt;text-align: left;">// <span class="s21">启用中间件</span></p><p class="s18" style="padding-top: 4pt;padding-left: 19pt;text-indent: 0pt;text-align: left;">app.use(compression());</p><p style="padding-left: 38pt;text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="135" height="64" alt="image" src="index_files/Image_078.png"/></span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 43pt;text-align: left;"><span><img width="10" height="33" alt="image" src="index_files/Image_079.png"/></span>    <span class="h2">2. 项目上线</span></p><ol id="l18"><li><h3 style="padding-top: 9pt;padding-left: 66pt;text-indent: -32pt;text-align: left;">项目上线相关配置</h3><p style="text-indent: 0pt;text-align: left;"><span><img width="445" height="270" alt="image" src="index_files/Image_080.png"/></span></p></li></ol></li><li><h4 style="padding-top: 7pt;padding-left: 56pt;text-indent: -16pt;text-align: left;">配置 HTTPS 服务</h4><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s12" style="padding-top: 2pt;padding-left: 39pt;text-indent: 0pt;text-align: left;">为什么要启用 HTTPS 服务？</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l19"><ul id="l20"><li><p class="s9" style="padding-top: 2pt;padding-left: 56pt;text-indent: -17pt;line-height: 19pt;text-align: left;">传统的 HTTP 协议传输的数据都是明文，不安全</p><p style="text-indent: 0pt;text-align: left;"/></li><li><p class="s9" style="padding-left: 56pt;text-indent: -17pt;line-height: 19pt;text-align: left;">采用 HTTPS 协议对传输的数据进行了加密处理，可以防止数据被中间人窃取，使用更安全</p></li></ul></ol></li></ol></li></ol></ol><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="135" height="64" alt="image" src="index_files/Image_081.png"/></span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 43pt;text-align: left;"><span><img width="10" height="33" alt="image" src="index_files/Image_082.png"/></span>    <span class="h2">2. 项目上线</span></p><h3 style="padding-top: 9pt;padding-left: 33pt;text-indent: 0pt;text-align: left;">2.1 项目上线相关配置</h3><p style="text-indent: 0pt;text-align: left;"><span><img width="445" height="270" alt="image" src="index_files/Image_083.png"/></span></p><h4 style="padding-top: 7pt;padding-left: 39pt;text-indent: 0pt;text-align: left;">3. 配置 HTTPS 服务</h4><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s22" style="padding-top: 2pt;padding-left: 39pt;text-indent: 0pt;text-align: left;">申请 SSL 证书（https://freessl.org）</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s9" style="padding-top: 2pt;padding-left: 39pt;text-indent: 0pt;line-height: 19pt;text-align: left;">① 进入 https://freessl.cn/ 官网，输入要申请的域名并选择品牌。</p><p class="s9" style="padding-left: 39pt;text-indent: 0pt;line-height: 19pt;text-align: left;">② 输入自己的邮箱并选择相关选项。</p><p class="s9" style="padding-left: 39pt;text-indent: 0pt;line-height: 19pt;text-align: left;">③ 验证 DNS（在域名管理后台添加 TXT 记录）。</p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-left: 39pt;text-indent: 0pt;line-height: 19pt;text-align: left;">④ 验证通过之后，下载 SSL 证书（ full_chain.pem 公钥；private.key 私钥）。</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="135" height="64" alt="image" src="index_files/Image_084.png"/></span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 43pt;text-align: left;"><span><img width="10" height="33" alt="image" src="index_files/Image_085.png"/></span>    <span class="h2">2. 项目上线</span></p><h3 style="padding-top: 9pt;padding-left: 33pt;text-indent: 0pt;text-align: left;">2.1 项目上线相关配置</h3><p style="text-indent: 0pt;text-align: left;"><span><img width="445" height="270" alt="image" src="index_files/Image_086.png"/></span></p><ol id="l21"><li><h4 style="padding-top: 7pt;padding-left: 56pt;text-indent: -16pt;text-align: left;">配置 HTTPS 服务</h4><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"/><p class="s22" style="padding-top: 2pt;padding-left: 39pt;text-indent: 0pt;text-align: left;">在后台项目中导入证书</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s23" style="padding-left: 19pt;text-indent: 0pt;line-height: 159%;text-align: left;"><span>const https = require(&#39;https&#39;);<br/>const fs = require(&#39;fs&#39;);<br/>const options = {</span></p><p class="s23" style="padding-left: 44pt;text-indent: 0pt;line-height: 12pt;text-align: left;">cert: fs.readFileSync(&#39;./full_chain.pem&#39;),</p><p class="s23" style="padding-top: 7pt;padding-left: 44pt;text-indent: 0pt;text-align: left;">key: fs.readFileSync(&#39;./private.key&#39;)</p><p class="s23" style="padding-top: 6pt;padding-left: 19pt;text-indent: 0pt;text-align: left;">}</p><p class="s23" style="padding-top: 7pt;padding-left: 19pt;text-indent: 0pt;text-align: left;">https.createServer(options, app).listen(443);</p><p style="padding-left: 32pt;text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="135" height="64" alt="image" src="index_files/Image_087.png"/></span></p><p class="s3" style="padding-left: 5pt;text-indent: 0pt;line-height: 43pt;text-align: left;"><span><img width="10" height="33" alt="image" src="index_files/Image_088.png"/></span>    <span class="h2">2. 项目上线</span></p><h3 style="padding-top: 9pt;padding-left: 33pt;text-indent: 0pt;text-align: left;">2.1 项目上线相关配置</h3><p style="text-indent: 0pt;text-align: left;"><span><img width="445" height="270" alt="image" src="index_files/Image_089.png"/></span></p></li><li><h4 style="padding-top: 7pt;padding-left: 56pt;text-indent: -16pt;text-align: left;">使用 pm2 管理应用</h4></li></ol><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s9" style="padding-top: 2pt;padding-left: 40pt;text-indent: 0pt;line-height: 19pt;text-align: left;">① 在服务器中安装 pm2：<span style=" color: #F00;">npm i pm2 -g</span></p><p class="s9" style="padding-left: 40pt;text-indent: 0pt;line-height: 19pt;text-align: left;">② 启动项目：pm2 start 脚本 --name 自定义名称</p><p class="s9" style="padding-left: 40pt;text-indent: 0pt;line-height: 19pt;text-align: left;">③ 查看运行项目：pm2 ls</p><p class="s9" style="padding-left: 40pt;text-indent: 0pt;line-height: 19pt;text-align: left;">④ 重启项目：pm2 restart 自定义名称</p><p class="s9" style="padding-left: 40pt;text-indent: 0pt;line-height: 19pt;text-align: left;">⑤ 停止项目：pm2 stop 自定义名称</p><p style="text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-left: 40pt;text-indent: 0pt;line-height: 19pt;text-align: left;">⑥ 删除项目：pm2 delete 自定义名称</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 120pt;text-indent: 0pt;text-align: left;">	<span><img width="161" height="65" alt="image" src="index_files/Image_090.png"/></span><span class="s3">	</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="445" height="270" alt="image" src="index_files/Image_091.png"/></span></p></body></html>
